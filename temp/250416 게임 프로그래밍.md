# 게임 프로그래밍

## 1. Scene과 Object

### scene란?

- 유니티에서 콘텐츠를 사용하여 작업하는 공간으로, 게임이나 애플리케이션의 전체 또는 일부를 포함하는 에셋
- 새 프로젝트를 만들고 처음으로 열면 하나의 카메라와 광원만 포함된 샘플 씬이 오픈됨

### Camera란?

- 월드를 캡처하여 플레이어에게 보여주는 장치
- game object가 카메라에 투영(Projection)되는 방식에 따른 구분
- 원근 투영(Perspective)
- 직교 투영(Orthogonal)

#### 카메라 프로퍼티 기능

- Clear Flags 
     스크린의 어떤 부분을 클리어할지 여부를 결정
- Background 
     스카이박스가 없을 경우 여백 화면에 적용될 색상
- Culling Mask
     카메라가 렌더링할 오브젝트의 레이어를 포함하거나 제외함
     오브젝트의 레이어를 인스펙터에 할당해야 함
- Projection 
    - 카메라의 원근 시뮬레이션 성능을 토글함
    - Perspective : 카메라가 원근감을 그대로 적용해 오브젝트를 렌더링
    - Orthographic : 카메라가 원근감 없이 오브젝트를 균일하게 렌더링
- Size 
    - 직교를 선택했을 때의 카메라의 뷰포트 크기
- FOV Axis
    - 시야각 축
- Depth
    - 드로우 순서의 카메라 포지션
- Field of view
    - FOV Axis 드롭다운에 지정된 축을 따라 측정된 카메라의 시야각
- Clipping Planes  렌더링을 시작 및 중지하기 위한 카메라부터의 거리
- ViewPort Rect  카메라 뷰가 드로우될 화면의 위치를 나타내는 네 개의 값

### 광원(Light)

- 광원은 Directional, Spot, Point, Area 등이 있음
- 유니티에서는 색상이 자연스럽게 보이게 만들기 위해 광원을 쉽게 사용할 수 있음
- 광원은 그림자 생성에도 관여함

#### 광원 프로퍼티 기능
- Directional Light  Scene에서 한 방향으로만 빛일 발산하는 광원
- Point Light  Scene의 한 점에 있고, 모든 방향으로 균등하게 빛을 발산하는 광원
- Spotlight 
    - Scene의 한점에 위치하여 원뿔 모양으로 빛을 발산하는 광원
    - 플래시라이트, 자동차 헤드라이트와 같은 인공 광원으로 사용됨
- Area Light
    - Scene에서 사각형으로 정의되며, 표면 영역 전체에 걸쳐 균등하게 모든 방향으로 사각형의 한쪽 면에서만 빛을 방출하는 광원

### game object란?

- 캐릭터, 광원, 카메라, 특수 효과 등 게임에 존재하는 모든 오브젝트
- 게임 오브젝트는 독자적으로 많은 것을 하기보다는 기능을 구현하는 컴포넌트의 컨테이너 역할을 함

#### 네 가지 game object 타입

- 움직이는 캐릭터
- 광원
- 나무
- 오디오 소스

- 생성 시, 기본적으로 Transform이 부착되어 있으며, 이를 제거할 수 없음
- 오브젝트에 기능을 부여하는 다른 컴포넌트는 에디터의 컴포넌트 메뉴나 스크립트에서 붙일 수 있음

#### 유니티에서 오브젝트를 생성하는 법 : Create Empty

‐ Component - mesh - mesh filter ‐ Add component - mesh renderer

### 컴포넌트(Component)

- 해당 game object의 동작을 정의하고 game object에 붙일 수 있는 다양한 기능을 가진 구성요소들
- 비어 있는 게임 오브젝트에 어떤 컴포넌트를 붙이는지에 따라서 game object의 역할이 달라짐
- Transform Component - game object에 기본으로 부착되며, 제거할 수 없음
- 그 외 컴포넌트
    - game object에는 여러 컴포넌트를 추가할 수 있음
    - 어떤 컴포넌트를 추가하는지에 따라 그 역할이 달라짐
    - 예
        - 광원 컴포넌트를 붙일 경우 광원이 됨
        - 카메라 컴포넌트를 붙일 경우 게임 내에서 씬을 보여주는 카메라가 됨
- 컴포넌트 추가하기
    - 추가할 게임 오브젝트 선택
    - 인스펙터 창에서 Add Component 버튼 클릭
- 커스텀 컴포넌트
    - 직접 컴포넌트를 만들어 게임 오브젝트에 추가할 수 있음
    - project에서 C# Script를 추가함
    - Add Component에서 검색하여 붙일 수 있음

### 스크립트란?

- 게임에서 오브젝트를 움직이게 하는 대본
- 오브젝트가 움직이는 방향을 스크립트로 기술함
- 스크립트를 다 작성하면 오브젝트에 적용해 스크립트에 작성된 대로 오브젝트가 움직이도록 만듦

### 스크립트 작성하기

#### 프로젝트 만들기

- 유니티 허브를 실행하고 처음에 나타나는 화면에서 새 프로젝트 클릭
- 스크립트를 테스트할 수 있는 프로젝트 생성
- 유니티 에디터를 이미 실행했다면 도구 바에서 File - New Project 선택
- 유니티 에디터가 실행되면 project 창에서 마우스 오른쪽 버튼 클릭 Create - C# Script 선택
- 파일이 생성된 직후는 파일명이 편집 상태가 되므로 확정하기 전에 파일명을 Test로 변경

#### 스크립트를 적용할 game object 추가하기

- Hierarchy창에서 + 클릭
- Create Empty 선택
- Hierarchy 창에 GameObject가 추가됨 - 작성한 game object는 내용이 없는 상태이므로 어떤 기능도 없음
- 작성한 Test 스크립트를 Hierarchy 창의 GameObject 오브젝트로 드래그&드롭
    - 스크립트를 game object에 적용(Attach)하는 과정으로 스크립트를 game object에 연결해 스크립트가 실행되도록 함
- Inspector 창에서 Gameobject에 Test가 적용됐는지 확인할 수 있음
- 스크립트에 작성한 움직임을 오브젝트에 적용하려면 game object와 ‘연결해야’ 함
- 캐릭터를 움직이는 스크립트 - 캐릭터의 몸체 오브젝트와 연결해야 동작함
- 카메라를 조작하는 스크립트 - 카메라 오브젝트와 연결해야 동작함
- 게임 오브젝트에 움직이는 스크립트를 적용해야 오브젝트가 제대로 동작함
- Project 창에 있는 Test 스크립트 파일 더블클릭
- 스크립트를 작성할 수 있는 Visual Studio가 실행
- System.Collections와 System.Collections.Generic은 데이터를 저장하는 형을 제공함
- UnityEngine은 유니티가 동작하는 데 필요한 기능을 제공함
- 클래스명을 정함
- 6번 줄에 있는 여는 중괄호({)와 18번 줄에 있는 닫는 중괄호(}) 사이에는 스크립트를 실행했을 때 처리되는 내용을 씀
- 7, 8번 줄에 적힌 Start와 14번 줄에 적힌 Update는 각각 Start 메서드와 Update 메서드라고 함

### 프레임과 실행 시점

- 게임 화면은 영화나 애니메이션과 마찬가지로 그림 한 컷을 플립북 방식으로 표시함
- 그림 한 컷을 프레임이라고 하며, 1초에 표시되는 매수는 FPS(Frame Per Second) 단위로 셈
- 영화 프레임 - 1초에 24프레임(24FPS) 속도로 그림을 전환해 애니메이션 
- 게임 프레임 - 1초에 60프레임(60FPS) 속도로 그림을 전환해 애니메이션
- Update 메서드 - 물체의 표시 뿐만 아니라 충돌 판정이나 키 조작 등의 처리를 프레임마다 해야 함
- 스크립트의 흐름 
    - 스크립트 실행
    - Start - 한 번만 실행
    - Update 한 프레임마다 실행 

### Hello, World! 출력하기

- 유니티 에디터의 Console 창에 Hello, World를 출력하는 스크립트 코드 작성
- 실행도구 클릭
- Hello, World!가 출력
- Start 메서드의 중괄호({}) 안에 다음과 같이 입력

### 생성된 C# 스크립트 살펴보기

- MonoBehaviour
    - 모든 유니티 스크립트가 파생되는 기본 클래스
    - 오브젝트에 연결할 수 있도록 만들어짐
        - 주요 이벤트 발생 시 호출되는 메소드의 정의를 할 수 있음
        - 다른 컴퍼넌트에 접근할 수 있는 기능을 제공함
        - 런타임에서 유니티의 API를 사용하기 위한 클래스
        - start, update도 MonoBehaviour에서 구현된 기능임
- MonoBehaviour 주요 Property
    - 01 Transform - 좌표, 회전값, 크기 등을 위한 오브젝트
    - 02 Game object - 오브젝트에 접근하기 위한 것
    - 03 Tag - 게임 오브젝트의 태그 값
    - 04 Enabled -  스크립트를 끄고 킬 수 있게 함
    - 05 Name -  게임 오브젝트마다 부여할 수 있는 접근
- MonoBehaviour Coroutine을 시작, 중지 및 관리할 수 있음
  
## 2. 코딩실습으로 배우는 프로그래밍

### C#의 기본 코드 구조

- C# 프로그램 - class와 Main() 메서드가 반드시 있어야 하고, 하나 이상의 문(statement)이 있어야 함
- C#의 기본 코드는 위쪽에 네임스페이스 선언부와 Main() 메서드가 오고, 중괄호 시작과 끝을 사용하여 프로그램 범위를 구분함
    - 01 using -  다른 네임스페이스에 정의된 타입을 import하거나, 네임스페이스에 대한 별칭을 만들 때 사용
    - 02 namespace -  관련 개체 집합을 포함하는 범위를 선언하는데 사용 
    - 03 class -  필드(field), 메소드(method)로 분리  프로그램의 기본 구성
    - 04 세미콜론 ‘;’ -  코드 문장의 끝
    - 05 중괄호({}) -  프로그램 범위를 구분 지음
    - 06 주석 -  한 라인 주석(//)  여러 라인 주석 (/**/)
- using 키워드와 네임스페이스
    - C#은 네임스페이스, 클래스, Main() 메서드로 구성됨
    - 네임스페이스.클래스.메서드(); 형태임
    - 네임스페이스를 using으로 선언했기 때문에 클래스.메서드(); 형태임
- C#의 기본 코드 구조
    - Static void Main
    - 프로그램의 시작지점(Entry Point)
    - 모든 프로그램은 메인 메소드가 반드시 존재
- 다양한 형태의 Main 함수
    - 함수가 가지는 특성
    - Console.WriteLine(“String{0} String{1}”, “AA”, “BB”);
        - Console.WriteLine() 지정한 문자열 값을 표준 출력 스트림에 사용
    - Console.Write() 지정한 값의 텍스트 표현을 표준 출력 스트림에 사용
    - Console.WriteLine(“String{0} String{1}”, “AA”, “BB”);
    - Console.ReadLine() 사용자가 엔터를 누르면 문자열을 반환하고 다음 작업을 결정
    - Console.Readkey() 다음 문자나 사용자가 누른 기능 키를 가져와 콘솔창에 표시
- Main( ) 메서드 : 프로그램의 진입점
    - C# 기본 구조에서 반드시 사용되는 Main() 메서드는 프로그램의 시작점임
    - 반드시 Main() 메서드가 있어야 하고 Main() 메서드에서 프로그램을 실행하고 종료함
    - Main() 메서드 앞에 static 키워드가 있어 앞으로 배울 개체를 생성하지 않고 바로 클래스에 있는 Main() 메서드를 실행할 수 있음
    - Main() 메서드가 2개이면 ‘프로그램에 진입점이 2개 이상 정의되어 있습니다.’라는 에러 메시지가 출력되어 프로그램이 컴파일되지 않음
- 중괄호 위치
    - C#은 대 · 소문자를 구분함
    - 클래스와 Main() 메서드처럼 프로그램의 시작과 끝을 나타낼 때는 중괄호 열기({)와 닫기(})를 사용함
    - 중괄호 위치는 크게 두 가지 스타일로 사용할 수 있음
        - 예 Console.Writeline(“안녕하세요.”)
    - WriteLine() 메서드의 대 · 소문자를 정확히 입력하지 않으면 에러가 발생함

## 3. 오브젝트

데이터 및 프로그램 제어(1)
오브젝트를 배치하고 움직이는 방법
게임 프로그래밍 개발을 위한 데이터의 기본 지식을 습득할 수 있다.
데이터를 가공하는데 사용되는 여러 연산자를 파악할 수 있다.
오브젝트를 배치하고 움직이는 법을 게임 제작을 통해 이해하고
구현할 수 있다.
2
게임프로그래밍개발/3주차
3
데이터 및 프로그램 제어(1)
게임프로그래밍개발/3주차
1. 데이터 및 프로그램 제어(1)
1) 데이터
4
변수를 사용하려면 먼저 선언을 해야 하는데, ‘데이터를 담아 놓을
그릇을 만드는 작업’이라고 생각하면 됨
변수를 만들 때는 변수 이름과 값, 데이터 형식이 필요함
데이터를 저장하기 위해 프로그램에 의해 이름을 할당 받은 메모리 공간
변수(Variable)
i nt n umber;
변수 이름 number 30 number
데이터 형식 문장의 끝
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
5
박스를 만들려면 박스에 어떤 종류의 데이터를 넣을지, 박스 이름으로
무엇을 쓸지 선언해야 함
스크립트에서는 변수를 사용해 숫자나 문자열을 다룸
데이터를 담고 있는 박스와 같음
i nt n umber;
n umber = 7 ;
데이터 형식 변수 이름
할당
number
7
할당
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
6
변수를 선언했으면 값을 넣어 주어야 함
i nt n umber;
n umber = 7 ;
데이터 형식 변수 이름
할당
number
7
할당
변수에 값을 저장하는 것을 값을 대입 또는 할당한다고 표현함
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
변수 선언과 동시에 초기화하기
변수를 선언하면 변수 이름으로 메모리 공간이 만들어지는데, 
처음에는 쓰레기 값이 저장되어 있음
이곳에 실제 사용할 값을 저장하는 것을 초기화라고 함
7
i nt n umber = 7 ;
데이터
형식 변수 이름
할당
number
쓰레기 값
number
7
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
형식이 같은 변수 여러 개를 한 번에 선언하기
데이터 형식이 같은 변수를 콤마(,) 기호로 구분해서 여러 개 선언할 수
있음
8
데이터 형식 변수1, 변수2, 변수3;
int a;
int b;
int c;
int a, b, c;
실습 코드 : 03_Data_01
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
데이터 형태(정수)
C#은 다음과 같이 미리 정의된 정수 형식을 지원함
9
int
 정수형 데이터를 저장함
 더 큰 정수는 long을 사용함
string  문자열 데이터를 저장함
bool  참 값 또는 거짓 값을 true와 false 키워드로
저장함
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
데이터 형태(정수)
C#은 다음과 같이 미리 정의된 정수 형식을 지원함
10
double
 실수형 데이터를 저장함
 double과 float 모두 실수 저장이 가능함
object
 C#에서 사용하는 모든 데이터를 저장함
 모든 데이터 형식을 담을 수 있음
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
정수 데이터 형식
11
정수형 키워드에는 s와 u 접두사가 붙는데
이는 signed와 unsigned의 약자로, 
부호를 붙이느냐 붙이지 않느냐 하는 차이가 있음
부호 있는(signed)
 +, - 부호가 있는 정수형
‐ 즉, 양수와 음수를 모두
지원함
부호 없는(unsigned)
 부호 없이 + 값만 다루는
정수형
‐ 양수만 지원함
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
정수 데이터 형식
정수 리터럴 접두사
12
16진수
0x 
2진수
0b 
0b11110000 0xDF
실습 코드 : 03_Data_02
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
정수 데이터 형식
정수 데이터 형식을 표현하는 데 키워드 8개를 사용함
13
종류 데이터 형식 닷넷 형식
부호 있는 정수
(+, -)
sbyte System.Sbyte
short System.Int16
int System.Int32
long System.Int64
부호 없는 정수
(+)
byte System.Byte
ushort System.UInt16
uint System.UInt32
ulong System.UInt64
실습 코드 : 03_Data_03
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
실수 데이터 형식
14
float double decimal
리터럴 접미사,
float(f), 
decimal(m)에만 사용함
10진 방식이며, 
소수점 28자리 정도까지의
자료를 다루는 금융 관련
프로그램을 만들 때 유용함
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
실수 데이터 형식
15
데이터 형식 비트 범위 닷넷 형식
float 32 -3.402823E38~
+3.402823E+38
System.
Single
double 64 -1.79769313486232E+308~
+1.79769313486232E+308
System.
Double
decimal 128
-792281625142643375935
42950335~
+792281625142643375935
42950335
System.
Decimal
실습 코드 : 03_Data_04
게임프로그래밍개발/3주차
1) 데이터
1. 데이터 및 프로그램 제어(1)
문자 데이터 형식
16
문자형 변수는 2바이트 공간에 문자 하나를 저장함
문자형 변수는 char 키워드로 선언하고 값을 초기화할 때는
작은따옴표 2개를 사용하여 문자 하나를 묶어줌
문자(char) 데이터 형태
 따옴표(‘ ’) 사용
 char ch = ‘A’;
문자열(string) 형태
 문자가 모여있는 형태
 쌍따옴표(“ ”)
 String str = “abcde”;
실습 코드 : 03_Data_05 실습 코드 : 03_Data_06
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
데이터로 연산 작업을 수행할 때는 연산자(operator)를 사용함
기능에 따른 구분
17
대입 연산자 증감 연산자
산술 연산자 조건 연산자
관계 연산자 비트 연산자
논리 연산자 시프트 연산자
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
이용 형태에 따른 구분
18
단항
(unary) 
연산자
이항
(binary) 
연산자
삼항
(ternary) 
연산자
항 1개로
연산을 함
항 2개로
연산을 함
항 3개로
연산을 함
연산자 피연산자
피연산자1 연산자 피연산자2
(식) ? 피연산자 : 피연산자 2
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
19
01 산술 연산자
 더하기(add), 빼기(subtract), 곱하기(multiply), 
나누기(divide), 나머지(remainder, modulus)의
수학적 연산을 하는 데 사용함
산술 연산자 의미 예 설명
+ 더하기 A + B A와 B를 더한 결과를 반환함
- 빼기 A - B A에서 B를 뺀 결과를 반환함
* 곱하기 A * B A와 B를 곱한 결과를 반환함
/ 나누기 A / B A를 B로 나눈 결과를 반환함
% 나머지 A % B A를 B로 나눈 후 몫이 아닌
정수형 나머지 값을 반환함
실습 코드 : 03_Data_07
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
20
02 증감 연산자
전위 증감 연산자
증감 연산자가 변수 앞에
붙을 경우
후위 증감 연산자
증감 연산자가 변수 뒤에
붙을 경우
구분 설명 예
전위(prefix)
증감 연산자
정수형 변수 앞에 연산자가 위치하여 변수
값을 미리 증감한 후 나머지 연산을 수행함
++a;
--b;
후위(postfix)
증감 연산자
정수형 변수 뒤에 연산자가 위치하여
연산식(대입)을 먼저 실행한 후 나중에
변수 값을 증감함
a++;
b--;
실습 코드 : 03_Data_08
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
21
03 할당 연산자(assignment operator)
 변수에 데이터를 대입하는 데 사용함
 할당 연산자를 대입 연산자라고도 함
 = 기호는 같다는 의미가 아니라 오른쪽에 있는 값 또는
식의 결과를 왼쪽 변수에 할당하라고 지시함
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
22
03 할당 연산자(assignment operator)
할당 연산자 예 설명
= A = B A에 B 값을 대입함
+= A += B A에 B를 더한 후 그 값을 다시 A에 대입함
-= A -= B A에서 B를 뺀 후 그 값을 다시 A에 대입함
*= A *= B A에 B를 곱한 후 그 값을 다시 A에 대입함
/= A /= B A에서 B를 나눈 후 몫을 다시 A에 대입함
%= A %= B A에서 B를 나눈 후 나머지 값을 다시 A에
대입함
실습 코드 : 03_Data_09
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
23
04 관계 연산자(relational operator)
 두 항이 큰지, 작은지 또는 같은지 등을 비교하는 데 사용함
 관계형 연산자의 결과값은 논리 데이터 형식인 참(True) 또는
거짓(False)으로 출력됨
연산자 예 의미 설명
< A < B 작은지
(LessThan)
A가 B보다 작으면 True, 
그렇지 않으면 False
<= A <= B 작거나 같은지
(LessThanEqual)
A가 B보다 작거나
같으면 True, 
그렇지 않으면 False
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
24
04 관계 연산자(relational operator)
연산자 예 의미 설명
> A > B 큰지
(GreaterThan)
A가 B보다 크면 True, 
그렇지 않으면 False
>= A >= B
크거나 같은지
(GreaterThan
Equal)
A가 B보다 크거나 같으면
True, 그렇지 않으면
False
== A == B 같은지
(Equal)
A가 B가 같으면 True, 
그렇지 않으면 False
!= A != B 다른지
(NotEqual)
A와 B가 같지 않으면
True, 그렇지
않으면(같으면) False
실습 코드 : 03_Data_10
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
25
05 논리 연산자(logical operator)
 논리곱(AND), 논리합(OR), 논리부정(NOT)의 조건식에 대한
논리 연산을 수행함
 연산의 결과 값은 참(True) 또는 거짓(False)의 bool 형식으로
반환되어 Boolean 연산자라고도 함
 논리 연산자도 비교 연산자와 마찬가지로 결과값은 참 또는
거짓을 반환함
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
26
05 논리 연산자(logical operator)
할당
연산자 예 의미 설명
&& A && B
논리곱
AND 
조건
‐ A항과 B항 모두 참(True)일 때만
참(True), 그렇지 않으면
거짓(False)
• 즉 항 2개 중 하나라도
거짓(False)이면 거짓(False)
‐ ‘~이고, 그리고’ 의미로 사용
‐ 양쪽 모두 참(True)일 때 참
(1/3)
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
27
05 논리 연산자(logical operator)
할당
연산자 예 의미 설명
A B
논리합
OR 
조건
‐ A항과 B항 모두 거짓(False)일 때만
거짓(False), 그렇지 않으면
참(True)
• 즉 항 2개 중 하나라도
참(True)이면 참(True)
‐ ‘~이거나, 또는’ 의미로 사용
‐ 양쪽 중 한쪽만 참(True)일 때 참
(2/3)
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
28
05 논리 연산자(logical operator)
할당
연산자 예 의미 설명
! !A
논리
부정
NOT 
조건
‐ A항이 참(True)이면 거짓(False)을, 
A항이 거짓(False)이면 참(True)을
반환
‐ ‘~가 아닌’ 의미로 사용
‐ 참(True)과 거짓(False)을 뒤집음
(3/3)
실습 코드 : 03_Data_11
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
29
06 조건 연산자(conditional operator)
 조건에 따라서 참일 때와 거짓일 때 결과를 다르게 반환하며, 
? : 형태의 연산자임
 조건 연산자는 항이 3개여서 3항 연산자(ternary 
operator)라고도 함
 3항 연산자는 뒤에서 다룰 if~else 문의 축약형이기도 함
조건식 처리1 처리2 ? :
true
false
실습 코드 : 03_Data_12
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
30
07 시프트 연산자(shift operator)
 정수 데이터가 담겨 있는 메모리의 비트를 왼쪽(<<) 또는
오른쪽( >>)으로 지정한 비트만큼 이동시킴
 시프트 연산자를 사용하면 비트의 자리를 이동할 수 있음
예 정수형 데이터인 2를 이진수로 표현하면 0010임
‐ 왼쪽(<<) 시프트 연산자를 사용하여 한 칸 이동하면
0100이 됨
‐ 오른쪽( >>) 시프트 연산자를 사용하여 한 칸 이동하면
0001이 됨
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
31
07 시프트 연산자(shift operator)
연산자 의미 예 설명
<< 왼쪽
시프트 변수 << 비트 값,
 비트 값만큼 왼쪽으로
비트 이동
 결괏값이 변수 값 * 2의 비트
값 승 == 비트당 2배
 변수 값 곱하기 2의 거듭제곱
>> 오른쪽
시프트 변수 >> 비트 값,
 비트 값만큼 오른쪽으로 비트
이동
 결괏값이 변수 값 / 2의 비트
값 승 == 비트당 1/2배
 변수 값 나누기 2의 거듭제곱
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
32
08 비트 연산자(bit operator)
 정수형 데이터의 값을 이진수 비트 단위로 연산을 수행할 때
사용함
연산자 의미 설명
&
논리곱
(AND)
비트 값이 둘 다 1일 때만 1, 
그렇지 않으면 0
논리합
(OR)
비트 값이 하나라도 1이면 1, 
그렇지 않으면 0
^
배타적 논리합
(XOR, Exclusive OR)
비트 값이 서로 다를 때만 1, 
그렇지 않으면 0
~ NOT 비트 값이 1이면 0, 0이면 1
실습 코드 : 03_Data_13
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자
33
09 null 병합 연산자
 null 값을 체크하는 연산자
null? 처리1 ??
true
false
실습 코드 : 03_Data_14
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터 및 프로그램 제어(1)
연산자 우선순위
34
예 산술 연산자에서는 +보다 * 우선순위가 더 높음
( ) 연산자를 사용하면 우선순위를 변경할 수 있음
연산자 여러 개를 함께 사용할 때는 연산자 우선순위(precedence)에
따라 계산됨
게임프로그래밍개발/3주차
2) 프로그램 제어하기
1. 데이터
및 프로그램 제어(1)
연산자 우선순위
35
항목 연산자 우선순위
괄호 연산자 ( )
증감 연산자 ++, --
산술 연산자
-

음수


높음
낮음
게임프로그래밍개발/3주차
2. 게임 프로그래밍 개발 실습
랜덤한 정수(1~99)를 맞추는 프로그래밍 제작
36
<출처1> 실습 코드 : 03_exercise_program
게임프로그래밍개발/3주차
1
오브젝트를 배치하고
움직이는 방법
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 설계하기
2
초기
간단한 게임을 만듦
후기
복잡한 게임을 만들면서
실력을 높여 가면 좋음
오브젝트를 움직이는 방법을 배우는 것
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 기획하기
게임에는 사용자 입력에 따라 움직이는 것이 하나라도 있어야 함
3
3주차에서 게임 제작 : ‘운세 룰렛’
 화면 위에 큰 룰렛이 보이고, 화면을 탭하면 룰렛이 회전함
 시간이 흐르면 회전 속도가 떨어지면서 룰렛이 멈춤
제작할 게임 화면
<출처1>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
4
1단계 화면에 놓일 오브젝트를 모두 나열함
 게임 화면을 보면서 화면에 놓일 오브젝트를 모두 찾음
 화면에는 ‘룰렛’과 ‘바늘’이 놓여야 함
 이번 게임은 단순하므로 오브젝트가 두 개뿐이지만 게임 규모가
커지면 오브젝트 개수도 늘어남
[화면에 사용할 오브젝트 나열하기]
룰렛 바늘
<출처2>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
5
2단계 오브젝트를 움직일 수 있는 컨트롤러 스크립트를 정함
 1단계에서 나열한 오브젝트 중에서 움직이는 오브젝트를 찾음
 이 게임에서는 룰렛이 회전해야 하므로 움직이는 오브젝트에
룰렛이 포함됨
 바늘은 움직이지 않으므로 포함되지 않음
[움직이는 오브젝트 고르기]
룰렛 바늘
(1/2)
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
6
2단계 오브젝트를 움직일 수 있는 컨트롤러 스크립트를 정함
 움직이는 오브젝트에는 오브젝트의 움직임을 제어하는 대본이
필요함
 오브젝트를 움직이는 대본을 컨트롤러 스크립트로 칭함
 제작할 게임에서는 움직이는 오브젝트가 ‘룰렛’이므로
‘룰렛 대본(룰렛 컨트롤러 스크립트)’을 준비해야 함
[컨트롤러 스크립트]
<출처3> (2/2)
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
7
3단계 오브젝트를 자동으로 생성할 수 있도록 제너레이터 스크립트를 정함
 게임을 플레이할 때 생성될 오브젝트를 찾음
 적 캐릭터와 무대 발판 등 플레이어가 이동하거나
시간이 경과하면 출현하는 오브젝트가 해당됨
 게임을 플레이할 때 나타나는 오브젝트를 생성하는 스크립트를
제너레이터 스크립트로 칭함
 제너레이터 스크립트는 오브젝트를 생성하는 공장과 같음
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
8
4단계 UI를 갱신할 수 있도록 감독 스크립트를 준비함
 게임의 UI(사용자 인터페이스)를 조작하거나 진행 상황을
판단하려면 게임 전체를 관장할 수 있는 스크립트가 필요함
 이 게임 제작에서는 감독 스크립트로 칭함
 운세 룰렛 게임에는 UI가 없고 게임 흐름도 간단하므로
감독 스크립트는 준비하지 않음
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
9
5단계 스크립트를 만드는 흐름을 생각함
 4단계를 마친 후 작성한 각 스크립트로 게임을 어떻게 만들어
나갈지 정함
 기본적으로 다음의 순서로 제작함
 운세 룰렛 게임에서 만들어야 하는 스크립트는 룰렛 컨트롤러 뿐임
 오브젝트의 배치 방법 등 유니티 기본 조작을 제외하고
룰렛 컨트롤러만 작성하면 게임이 동작한다고 말할 수 있음
<출처4>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
룰렛 컨트롤러
10
구체적인 방법은 스크립트를 기술하는 부분에서 살펴보자!
룰렛은 화면을 탭하면 회전을 시작하고 시간이 흐르면 회전 속도를
점점 줄여 멈추도록 할 예정
각 스크립트는 ‘이러한 동작을 실현하고 싶다!’ 정도로
따로 정리해도 좋음
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
룰렛 컨트롤러
11
프로젝트 작성 오브젝트 배치 스크립트 작성 스크립트 적용
<출처5>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
프로젝트 만들기 및 설정 화면
12
새 프로젝트 클릭
<출처6>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
게임 리소스 생각하기
프로젝트 만들기 및 설정 화면
13
1
프로젝트 이름 입력
2
탬플릿을 2D로 선택
3
프로젝트 저장 위치 지정 4
프로젝트 생성 클릭
<출처7>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
만든 프로젝트에 리소스 추가
2개의 이미지 리소스를 Project 창으로 드래그&드롭
14
1
Project 탭 클릭
2
리소스를 Project 
창으로 드래그&드롭
<출처8>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
실행할 때 화면 표시 설정
실행했을 때 프레임 그리는 속도를 모니터 갱신 속도에 맞추려면?
Scene 뷰의 Game 탭을 클릭해 Game 뷰 왼쪽 위에 있는 화면
크기(Free Aspect) 목록을 열고 VSync (Game view only) 체크
15
1
Game 탭 클릭
2
Free Aspect 목록에서
vSync (Game view 
only) 체크
<출처9>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스마트폰용으로 설정하기
빌드 설정
먼저 스마트폰용으로 빌드할 수 있도록 설정함
16
1
도구 바에서 File -
Build Settings 선택
<출처10>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스마트폰용으로 설정하기
빌드 설정
먼저 스마트폰용으로 빌드할 수 있도록 설정함
17
2
Build Settings 창이 뜨면
Platform을 IOS로 선택하고
Switch Platform을 클릭
<출처11>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스마트폰용으로 설정하기
화면크기 설정
Scene 탭을 클릭하면 Scene 뷰가 보임
화면 크기가 바뀐 것을 알 수 있음
Scene 뷰에서 흰색 사각형으로 표시된 범위가 게임 화면의 범위
18 <출처12>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
Scene 저장하기
Scene를 만드는 방법
19
도구 바에서 File - Save As 선택
저장 창에서 Save As에 GameScene을 입력하고 Save 클릭
Project 창에 유니티 아이콘이 나타나고 GameScene이라는
이름으로 scene이 저장됨
<출처13>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
Scene 저장하기
Scene를 만드는 방법
20
File - Save로 작업 중인 scene을 저장할 수 있음
게임을 만드는 중에 수시로 저장하면서 작업하도록 함
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
Scene에 오브젝트 배치하기
Scene 뷰에 룰렛 이미지를 배치할 것임
Project 창에 추가해 둔 roulette 이미지를 Scene 뷰로 드래그&드롭
유니티의 2D 게임용 프로젝트에서는 Scene 뷰에 배치한 이미지를
스프라이트라고 함
Scene 뷰와
Hierarchy 창의
오브젝트는 일대일로
대응하므로
Hierarchy 창
목록에도 roulette이
표시됨
21
<출처14>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
Scene에 오브젝트 배치하기
Inspector 창을 사용해 룰렛 좌표를 지정할 것임
먼저 Hierarchy 창에서 roulette을 선택하고 Inspector 탭을 클릭함
룰렛의 상세 정보가 Inspector 창에 표시함
Transform항목의 Position에서 X, Y, Z를 각각 0, 0, 0으로 설정
22
<출처15>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
Scene에 오브젝트 배치하기
바늘 이미지를 Scene 뷰에 배치함(바늘 배치 순서는 룰렛과 같음)
바늘 이미지를 Scene 뷰로 드래그&드롭하고 Inspector 창에서 좌표를
설정함
23
<출처16>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
Scene에 오브젝트 배치하기
Project 창에 있는 needle 이미지를 Scene 뷰로 드래그&드롭
Hierarchy 창에서 needle을 클릭하고 Inspector 창에서
Transform 항목의 Position을 0, 3.2, 0으로 설정
24
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
Scene에 오브젝트 배치하기
먼저 배치한 룰렛 스프라이트 위에 바늘 스프라이트가 배치됨
여기까지 되었다면 게임을 실행하도록 함
유니티 에디터 윗부분에 보이는 실행 도구를 클릭함
Scene 뷰가 Game 뷰로 바뀌고 게임 실행 화면이 나타남
룰렛과 바늘이 제대로 표시됨
25
<출처17>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
배경색 변경하기
배경색을 연한 색으로 변경할 것임
26
배경색은 카메라 오브젝트의 매개변수를 수정해서 바꾸면 됨
Hierarchy 창에서 Main Camera를 선택하고 Inspector창에서
Camera 항목의 Background 색상 바를 클릭함
색을 16진수로 나타낸 색상 코드
Color 창이 나타나면 룰렛 색과 어울리도록 Hexadecimal을
FBFBF2로 설정함
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
배경색 변경하기
27
검은색
000000
흰색
FFFFFF 
나머지 색
중간 값
<출처18>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
28
클릭하면 룰렛을 회전시키되 시간이 흐르면 룰렛의 회전 속도를
점점 줄여 결국 멈추도록 하는 구조
<출처19>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
룰렛 스크립트 작성하기
29
1
Project 창의 오른쪽 위를 마우스 오른쪽
버튼으로 누르고 Create - C# Script 선택
2
파일이 만들어지면 파일명을
RouletteController로 변경
<출처20>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
룰렛 스크립트 작성하기
30
룰렛 컨트롤러
매 프레임 실행되는 Update 메서드에서 조금씩 룰렛을
회전시키는 회전 애니메이션을 만듦
룰렛을 조금씩 회전시키는 데는 Rotate 메서드를 사용함(25번줄)
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
룰렛 스크립트 작성하기
Rotate 앞에 있는 transform. Rotate 메서드를 사용하면
오브젝트를 회전할 수 있음
31
<출처21>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
룰렛 스크립트 작성하기
32
Rotate 
메서드의 기능
게임 오브젝트를 현재 각도에서 인수 값만큼
회전시키는 것
Rotate 메서드에
전달되는 인수
차례대로 X축 방향, Y축 방향, Z축 방향을
중심으로 한 회전 값
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
룰렛 스크립트 작성하기
33
X축 방향 Y축 방향 Z축 방향
여기서는 Z축(화면 안쪽으로 향하는 축)을 중심으로
회전시켜야 하므로 회전 값을 세 번째 인수로 지정함
<출처22>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
룰렛 스크립트 작성하기
34
시계 반대 방향으로 회전함 시계 방향으로 회전함
인수에 전달하는 회전 값이
양수일 경우
인수에 전달하는 회전 값이
음수일 경우
코드에서 룰렛의 회전 속도를
멤버 변수(rotSpeed)로 정의함
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
룰렛 스크립트 작성하기
Update 메서드에서 Rotate(0, 0, this.rotSpeed);을 사용해
한 프레임마다 rotSpeed에서 설정한 각도만큼 회전시킴
35
<출처23>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
룰렛 스크립트 작성하기
마우스로 입력 받기
36
GetMouseButtonDown
메서드
클릭된 순간 true를
반환하지만
GetMouseButtonUp
메서드는 마우스 왼쪽 버튼에서
손가락을 뗀 순간 한 번만
true를 반환함
GetMouseButton
메서드
마우스 왼쪽 버튼을
손가락으로 누르고 있는 동안
계속 true를 반환함
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트 작성하기
룰렛 스크립트 작성하기
마우스로 입력 받기
37
[GetMouseButton 움직임]
True
False
GetMouse
Button 
GetMouse
ButtonUp
GetMouse
ButtonDown
<출처24>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
스크립트를 적용해 룰렛 회전시키기
룰렛에 스크립트를 적용하려면 Project 창에 있는 RouletteController
스크립트를 Hierarchy 창에 보이는 roulette 오브젝트로 드래그&드롭
게임을 실행하여 화면을 클릭하면 룰렛이 회전하는지 확인
38
C# 스크립트가 적용됨 <출처25>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
룰렛의 회전을 정지시키기
39
지금 상태에서는 화면을 클릭해 룰렛을 회전시키면 룰렛이 멈추지 않고
계속 회전함
룰렛의 회전 속도를 점점 줄여 멈추도록 스크립트를 수정하는 작업이
필요함
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
룰렛의 회전을 정지시키기
회전 속도를 줄이는 방법
40
룰렛의 회전 속도를 천천히 줄이려면 회전 속도 멤버 변수인
rotSpeed 값을 조금씩 줄이면 됨
 단 rotSpeed 값을 조금씩 줄이면 일정한 속도(선형)로 감속하기
때문에 움직임이 자연스럽지 않음
예
값을 변경하는 것만으로도 감속 크기를
쉽게 바꿀 수 있어 공기 저항에 따른 감속이나
스프링 진동 감쇠 등 다양한 장면에서 사용됨
각 프레임의 rotSpeed 값에 감쇠 계수( 0.96)를 곱하면 됨
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
룰렛의 회전을 정지시키기
회전 속도를 줄이는 방법
41
<출처26>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
룰렛의 회전을 정지시키기
42
Update 메서드에서 rotSpeed에 감쇠 계수(0.96)를 곱하면 반복하는
rotSpeed가 0.96배가 됨
이 스크립트에서는 클릭될 때 rotSpeed에 10이 대입(19번 줄)
 1 프레임 뒤에는 0.96배가 되어 9.60, 2 프레임 뒤에도 0.96배가 되어
9.216이 됨
 시간이 흐른 만큼 회전 속도가 감쇠함
 rotSpeed는 0에 가까워짐
결국 rotSpeed가 0이 되지는 않지만 매우 작은 수라
룰렛이 정지한 것처럼 보임
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
룰렛의 회전을 정지시키기
43
룰렛이 회전하다가도 화면을 다시 클릭하면 rotSpeed에 다시 10이
대입되므로 회전 속도가 최고 속도로 설정됨
<출처27>
게임프로그래밍개발/3주차
2. 오브젝트를 배치하고 움직이는 방법
룰렛의 회전을 정지시키기
스크립트를 저장했다면 다시 실행함
룰렛의 회전 속도가 점점 줄어들다 결국 멈춤
44
<출처28>
게임프로그래밍개발/3주차
정리하기 S u m m a r y
45
유니티에서 중요한 ‘컴포넌트’에 대해 학습함
컴포넌트는 게임 오브젝트를 업그레이드하는 일종의 부품임
게임 오브젝트에 컴포넌트를 붙여 여러 기능을 추가할 수 있음
룰렛 게임 제작에서 만든 ‘스크립트’도 컴포넌트의 일종임
게임프로그래밍개발/3주차
추가로 해볼 수 있는 작업
46
컴포넌트로 오디오 기능 등 추가 작업해 보기
제작한 게임을 스마트폰에서 실행해 보기
게임프로그래밍개발/3주차
출처 및 참고문헌 S o u r c e & R e f e r e n c e
47
출처1~28 : 교수님 직접 제공.
기타무라 마나미(저), 김은철,유세라(역)(2022). 유니티 교과서 개정 5판. 길벗출판사
게임프로그래밍개발/3주차

## 4. 유니티 배경 만들기

임덕선 교수
유니티 배경 만들기
게임프로그래밍개발/4주차
학습내용 C o n t e n t s
학습목표 O b j e c t i v e s
프로그램 제어(2)
게임 프로그래밍 개발 실습
전역 변수, 지역 변수의 개념을 이해하고 설명할 수 있다.
프로그램 제어를 위한 분기문, 반복문의 기본 지식을 습득할 수 있다.
게임 프로그래밍 개발로 인해 학습한 C#을 더욱 깊게 이해하고 설명할 수
있다. 
2
유니티 - 배경 만들기
유니티를 사용하여 배경을 만드는 방법을 이해하고 구현할 수 있다.
게임프로그래밍개발/4주차
3
프로그램 제어(2)
게임프로그래밍개발/4주차
1. 프로그램 제어(2)
1) 전역 변수와 지역 변수
4
전역 변수(global variable) 
 클래스와 같은 레벨에서 선언된
변수
‐ 필드(field)라고도 함
지역 변수(local variable)
 함수 레벨에서 선언된 변수
이때 동일한 이름으로 변수를 전역 변수와
함수 내의 지역 변수로 선언할 수 있음
게임프로그래밍개발/4주차
1) 전역 변수와 지역 변수
1. 프로그램 제어(2)
5
함수 범위 내에
선언된 변수가 없다면?
전역 변수 내에
선언된 변수를 사용함
함수 내에서는?
함수 범위에 있는
지역 변수를 사용함
단, C#에서는 전역 변수가 아닌 필드라는 단어를 주로 사용하며, 
전역 변수는 언더스코어( _ ) 또는 m_ 접두사를 붙이는 경향이 있음
게임프로그래밍개발/4주차
1) 전역 변수와 지역 변수
1. 프로그램 제어(2)
6
Main() 메서드와 동일한 레벨에 static string message = "전역 변수"; 
형태로 문자열 변수를 선언할 수 있음
지금까지 우리가 선언하고 사용한 모든 변수는 지역 변수에 해당됨
ShowMessage() 함수에서는 이름이 동일한 message 변수를 선언하고
사용하므로 전역 변수가 아닌 함수 내에서 선언된 지역 변수를 씀
클래스 내에서 선언하는 변수는 Main() 메서드와 ShowMessage() 
함수에서 모두 사용할 수 있는 전역 변수가 됨
실습 코드 : 04_function_00
게임프로그래밍개발/4주차
2) 분기문(branching) 
1. 프로그램 제어(2)
7
01 if
 프로그램 흐름을 여러 가지 갈래로 가지치기(branching)할 수
있는데, 이때 if 문을 사용함
 if 문은 조건을 비교해서 판단하는 구문으로, 세 가지 키워드가 있음
if else if else
게임프로그래밍개발/4주차
2) 분기문(branching) 
1. 프로그램 제어(2)
8
01 if
 if 키워드 다음에 괄호를 사용하여 조건문을 기록함
 if 문의 기본 형태는 다음과 같음
if (조건문)
{
조건문의 조건을 만족할 때
실행할 실행문들…
}
중첩으로 사용 가능함
문장
조건
거짓
참
게임프로그래밍개발/4주차
2) 분기문(branching) 
1. 프로그램 제어(2)
9
01 if
 단문
if (1 == 1) Console. WriteLine(“단문 1”);
if (1 == 1) 
Console. WriteLine(“단문 2”);
if (1 == 1) 
{
Console. WriteLine(“단문 3”);
}
게임프로그래밍개발/4주차
2) 분기문(branching) 
1. 프로그램 제어(2)
10
01 if
 복문
if (1 == 1) 
{
Console. WriteLine(“복문 A”);
Console. WriteLine(“복문 B”);
}
실습 코드 : 04_Branch_if_01
실습 코드 : 04_Branch_if_02
실습 코드 : 04_Branch_if_03
게임프로그래밍개발/4주차
2) 분기문(branching) 
1. 프로그램 제어(2)
11
02 switch 문
switch(표현식) 
{
case 값1: 실행문1; break;
case 값2: 실행문2; break;
…
case 값n: 실행문n; break;
default: 실행문; break;
}
표현식 값이 값1~값n 중
하나와 일치할 경우
해당 실행문을 실행함
표현식 값이 값1~값n 중
하나와 일치하지 않을 경우
default 실행문을 실행함
실습 코드 : 04_Branch_switch_04
실습 코드 : 04_Branch_switch_05
게임프로그래밍개발/4주차
2) 분기문(branching) 
1. 프로그램 제어(2)
12
02 switch 문
 표현식에 맞는 실행문을 수행함
표현식의 결과값이 ‘값1’이면? 표현식의 결과값이 ‘값2’이면?
‘실행문1’을 수행함 ‘실행문2’를 수행함
 switch 문에는 추가로 case와 default 키워드가 사용됨
‐ case와 default 레이블이라고 함
 case 레이블에는 상수(값)가 들어오고, default 레이블은 생략
가능함
게임프로그래밍개발/4주차
3) 반복문(iteration)
1. 프로그램 제어(2)
13
01 while 문
 조건식이 참일 동안 문장을 반복 실행함
while (조건식)
{
조건식이 참일 때까지 실행할 문장들…
}
게임프로그래밍개발/4주차
3) 반복문
1. 프로그램 제어(2)
14
01 while 문
 while 문의 조건식이 true일 동안 실행문을 반복하여 실행함
 반복을 중지하려면 while 문 안쪽 코드에서 증감식 등을 사용하여
조건식 값을 변경해야 함
거짓
참
실행문
조건식
게임프로그래밍개발/4주차
3) 반복문
1. 프로그램 제어(2)
15
02 do while 문
 do 문은 while 문과 비슷하지만, 일단 문장을 한 번 실행한 후
그 다음에 조건을 따지는 구문임
 조건식이 참일 동안 문장을 반복 실행함
do
{
실행문;
} while (조건식);
 do 문 조건식이 true일 동안 실행문을 반복하여 실행함
‐ do 문은 마지막에 세미콜론(;) 기호로 끝나야 하는 것에 주의함
 do 문은 while (조건식)이 뒤에 오므로, 무조건 한 번은 실행문이
실행됨 실습 코드 : 04_Iteration_while_07
실습 코드 : 04_Iteration_do~while_08
게임프로그래밍개발/4주차
3) 반복문
1. 프로그램 제어(2)
16
03 for 문
 특정 구문을 여러 번 반복(iteration)해서 실행할 때 사용함
 일반적으로 for 문을 지칭할 때 for 루프(loop)라고도 함
for (초기식; 조건식; 증감식)
{
실행문;
}
 for 문은 초기식부터 조건식까지
증감식 크기만큼 증가 또는
감소시키면서 작업 명령문을
반복하여 실행함
for 명령문
반복 처리문
카운터 증감
거짓
참
끝 값 도달
실습 코드 : 04_Iteration_for_09
게임프로그래밍개발/4주차
3) 반복문
1. 프로그램 제어(2)
17
04 중첩 for 문
 for 문을 중첩으로 사용하여 특정 구문을 여러 번
반복(iteration)해서 실행할 때 사용함
for (초기식; 조건식; 증감식)
{
for (초기식; 조건식; 증감식)
{
실행문;
}
}
실습 코드 : 04_Iteration_for_for_10
게임프로그래밍개발/4주차
3) 반복문
1. 프로그램 제어(2)
18
05 foreach 문
 앞으로 배울 내용인 배열(array)이나 컬렉션(collection)같은
값을 여러 개 담고 있는 데이터 구조에서 각각의 데이터가 들어
있는 만큼 반복하는 반복문임
 데이터 개수나 반복 조건을 처리할 필요 없이 데이터가 있는 만큼
반복하는 구조
 foreach 문은 반복 가능한 항목들을 반복해서 가져옴
foreach (항목 in 항목들) {…}
실습 코드 : 04_Iteration_for_each_11
게임프로그래밍개발/4주차
4) 무한 루프
1. 프로그램 제어(2)
프로그래밍에서 무한 루프의 의미
19
무한 루프
(infinite loop)
루프를 멈추지 않고 계속 실행하여 프로그램을 종료하지 않는 것
게임프로그래밍개발/4주차
4) 무한 루프
1. 프로그램 제어(2)
잘못 작성한 코드로 무한 루프가 발생하면 프로그램에 심각한 문제가 생김
다음 내용을 입력한 후 실행하면 무한 루프가 발생하여 ‘무한 루프’
문자열을 계속해서 출력함
명령 프롬프트에서 무한 루프를 종료하려면? 
닫기 클릭
Ctrl + C 클릭
20
while (true)
{
무한 반복 코드
}
for (초기식; 조건식; 증감식)
{
무한 반복 코드
}
실습 코드 : 04_Iteration_while(true)_12
게임프로그래밍개발/4주차
5) 점프문
1. 프로그램 제어(2)
21
break 문
Continue 
문
goto 문
 반복문(for, while, 
do)을 빠져나올
때는 break 문을
사용할 수 있음
 무한루프 빠져
나오기
 코드를 건너 뛰어
실행함
 goto 구문은
특정 레이블로
이동하는 기능을 함
실습 코드 : 04_Iteration_break_13
실습 코드 : 04_Iteration_continue_14
실습 코드 : 04_Iteration_goto_15
게임프로그래밍개발/4주차
2. 게임 프로그래밍 개발 실습
게임프로그래밍 제작
알파벳이 먼저 도착점에 도달하는 게임 개발
지금까지 배운 C# 문법으로 게임 개발
22
<출처1> 실습 코드 : 04_exercise_game
게임프로그래밍개발/4주차
1
유니티 - 배경 만들기
게임프로그래밍개발/4주차
3. 유니티 - 배경 만들기
2
https://craftpix.net에서 free horizontal 2d game 검색
유니티 Project 뷰에서 Assets/Resources/BAG 폴더 생성
free horizontal 2d game 파일을 압축해제 후
PNG/game_background_4 폴더를 생성한 BAG 폴더로 임포트
<출처2>
게임프로그래밍개발/4주차
3. 유니티 - 배경 만들기
3
<출처3>
Material 만들기
배경 오브젝트를 배치하고 Material 설정
카메라 투영 설정하기
Game 뷰 해상도 설정
배경 오브젝트 해상도 조정
게임프로그래밍개발/4주차
3. 유니티 - 배경 만들기
4
<출처4>
게임 오브젝트 제작 (스크립트 적용)
스크롤링 관련 스크립트 작성
스크립트 attach 및 Renderer를 링크
셋팅값 조정 및 테스트
게임프로그래밍개발/4주차
출처 및 참고문헌 S o u r c e & R e f e r e n c e
5
출처1 : 교수님 직접 제공.
출처2 : https://craftpix.net
출처3, 4 : 교수님 직접 제공.
게임프로그래밍개발/4주차
정리하기 S u m m a r y
6
전역 변수, 지역 변수의 개념을 이해하고 사용할 수 있음
분기문, 반복문의 기본 지식을 습득하고 구현할 수 있음
유니티에서 배경을 만드는 방법을 실습해보고 다른 배경도 실습해보기
게임프로그래밍개발/4주차

## 5. 다양한 게임 요소 제작(1)

임덕선 교수
다양한 게임 요소 제작(1)
게임프로그래밍개발/5주차
학습내용 C o n t e n t s
학습목표 O b j e c t i v e s
함수 학습하기
User Interface(UI)와 감독 오브젝트(1)
함수가 무엇인지 설명할 수 있다.
함수의 사용 방법을 습득하고 이를 구현할 수 있다.
유니티에서 UI, 효과음 같은 다양한 요소를 추가하는 방법을 습득할 수
있다.
2
게임프로그래밍개발/5주차
3
함수 학습하기
게임프로그래밍개발/5주차
1. 코딩 실습
함수
1) 함수 사용하기
4
 코드들을 매번 입력하면 불편하고 입력하다 실수도 할 수 있음
이때 함수를 사용함
프로그래밍을 하다 보면 같은 유형의 코드를 반복할 때가 많음
프로그래밍 언어에서 함수는 어떤 동작 및 행위를 표현함
 한 번 만들어 놓은 함수는 프로그램에서 한 번 이상 사용할 수 있음
함수의 사용 목적은 코드 재사용에 있음
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
함수
5
Console 클래스의
WriteLine() 메서드
함수로 볼 수 있음
Main() 메서드
C#의 시작 지점을 나타내는
특수한 목적의 함수로 볼 수 있음
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
함수
입력, 처리, 출력
함수는 다음 처리를 담당하는 부분을 따로 이름 있는 코드 블록으로
지정하는 것을 의미함
함수의 실행 단계
6
입력 처리 출력
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
메서드
7
필요한 처리를 생각나는 대로
적다 보면 스크립트가 끝없이
길어질 때가 있음
스크립트 줄 수가 늘면 실수도
늘고 어디에 무엇을 썼는지
잊어버릴 수 있음
이러한 문제를 해결하고자 길어진 처리를 의미가 있는 처리 블록으로
분해하고 이름을 붙이는 구조를 만드는데, 이렇게 분해한 각 처리를
메서드(또는 함수)라고 함
처리 A
처리 B
처리 C
처리
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
메서드(함수)
함수를 정의하는 형태는 지금까지 사용한 Main() 메서드와 유사함
특정 기능을 분리해서 처리함
입력, 처리, 출력
함수는 다음 처리를 담당하는 부분을 따로 이름 있는 코드 블록으로
지정하는 것을 의미함
함수의 실행 단계
접근 지정자, 반환 데이터 형식 메서드 명(매개 변수, 〮〮〮) 
8
static void 함수이름() 
{
함수내용
}
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
함수의 형태
9
01 매개변수(인자, 파라미터)가 없는 함수
 매개변수도 없고 반환값도 없는 함수 형태는 가장 단순한 형태의
함수
리턴형 파라메터
02 반환값이 있는 함수(결과값이 있는 함수)
 함수의 처리 결과를 함수를 호출한 쪽으로 반환할 때는
return 키워드를 사용하여 데이터를 돌려줄 수 있음
리턴형 파라메터
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
함수의 형태
10
03 매개변수가 있는 함수
 특정 함수에 인자 값을 1개 이상 전달하는 방식
 정수형, 실수형, 문자형, 문자열형, 개체형 등 여러 가지 데이터
형식을 인자 값으로 전달할 수 있음
04 매개변수가 가변(여러 개)인 함수
 C#에서는 클래스 하나에 매개변수의 형식과 개수를 달리하여
이름이 동일한 함수를 여러 개 만들 수 있음
리턴형 데이터 파라메터
리턴형 데이터 파라메터
실습코드 : 05_function_type_01
실습코드 : 05_function_type_03, 04
실습코드 : 05_function_type_02
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
11
Call by Value
 값에 의한 호출
‐ 값을 복사하여 처리하기 때문에
메모리량이 늘어남
 함수에서 값에 영향을 주지 않음
 일반적인 함수
 void swap(int x, int y)
Call by Reference
 주소에 의한 호출
 함수에서 주소를 참조하기
때문에 값에 영향을 줌
 ref 키워드를 가지는 함수
 void swap(ref int x, 
ref int y)
실습코드 : 05_function_call_05
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
반환형 전달 방식(out)
참조 전달 방식(ref)처럼 레퍼런스
static void InitNum(out int add_Number)
12
메서드를 호출하는 쪽에서 선언만 하고, 초기화하지 않고 전달하면
메서드 쪽에서 해당 데이터를 초기화해서 넘겨주는 방식
반환형 전달 방식(out)
실습코드 : 05_function_out_06
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
기본 매개 변수(default parameter)
13
메서드를 선언할 때
매개변수를 선언 초기화
메서드를 호출할 때 매개변수를 지정하지 않아도
기본값으로 자동 설정함
이 기능을 기본 매개변수(default parameter) 또는
선택적 인수(optional argument)라고 함
실습코드 : 05_function_default_07
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
메서드 오버로딩(Method overloading)
매개변수를 달리해서 이름이 동일한 함수 여러 개를 중복할 수 있음
파라미터의 수 또는 형식이 다르게 정의할 수 있음
14
static int Function(int a, int b)
static int Function(int a, int b, int c)
static int Function(float a, float b)
실습코드 : 05_function_overloading_08
게임프로그래밍개발/5주차
1) 함수 사용하기
1. 코딩 실습
가변 길이 매개 변수(params) 
메서드의 매개변수를 받을 때 배열 형식의 매개변수를 하나 사용하여
가변적으로 하나 이상의 값을 받아 배열에 저장할 수 있는 가변형
매개변수를 제공함
가변형 매개변수는 params 키워드를 사용하여 배열형 매개변수를
선언하면 됨
메서드 오버로드와 달리 하나의 매개변수로 하나 이상의 값을 받을 수
있는 구조
15
static int SumAll(params int[] numbers)
실습코드 : 05_function_params_09
게임프로그래밍개발/5주차
2) 알파벳 경주 함수 적용해 보기
1. 코딩 실습
16
4주차에 작성했던 알파벳 경주 게임에 함수를 적용해 보기
<출처1> 실습코드 : 05_function_exercise_10
게임프로그래밍개발/5주차
1
User Interface(UI)와
감독 오브젝트(1)
게임프로그래밍개발/5주차
2. User Interface(UI)와 감독 오브젝트(1)
자동차를 깃발 근처까지 가서 멈추도록 하는 게임을 만듦
1) 게임 설계하기
2
<출처2>
게임프로그래밍개발/5주차
2) 게임 리소스 생각해보기
2. User Interface(UI)와 감독 오브젝트(1)
3
1단계 화면에 놓일 오브젝트를 모두 나열함
2단계 오브젝트를 움직일 수 있는 컨트롤러 스크립트를 정함
오브젝트를 자동으로 생성할 수 있도록 제너레이터 스크립트를
정함 3단계
4단계 UI를 갱신할 수 있도록 감독 스크립트를 준비함
5단계 스크립트를 만드는 흐름을 생각함
게임프로그래밍개발/5주차
2) 게임 리소스 생각해보기
2. User Interface(UI)와 감독 오브젝트(1)
4
1단계 화면에 놓일 오브젝트를 모두 나열함
 어떤 오브젝트가 필요할지를 고민함

‘자동차’와 ‘깃발’, 눈에 띄지 않지만 ‘지면’과 ‘거리를
표시하는 UI’가 보임
자동차 깃발 지면 UI
게임프로그래밍개발/5주차
2) 게임 리소스 생각해보기
2. User Interface(UI)와 감독 오브젝트(1)
5
2단계 오브젝트를 움직일 수 있는 컨트롤러 스크립트를 정함
 1단계에서 나열한 오브젝트 중에서 움직이는 오브젝트를 찾음
자동차 깃발 지면 UI
 움직이는 오브젝트는 움직임을 제어하는 컨트롤러 스크립트가
필요함
 제작할 게임에서는 자동차 움직임을 제어하는 스크립트로
‘자동차 컨트롤러’가 필요함
게임프로그래밍개발/5주차
2) 게임 리소스 생각해보기
2. User Interface(UI)와 감독 오브젝트(1)
6
 게임을 플레이할 때 생성될 오브젝트를 찾음
 자동차 멈추기 게임에는 플레이할 때 생성될 오브젝트가 없음
오브젝트를 자동으로 생성할 수 있도록 제너레이터 스크립트를
정함 3단계
게임프로그래밍개발/5주차
2) 게임 리소스 생각해보기
2. User Interface(UI)와 감독 오브젝트(1)
7
4단계 UI를 갱신할 수 있도록 감독 스크립트를 준비함
 감독 스크립트는 게임 전체를 관장하며 UI를 다시 그리거나
게임 종료를 판정함
 제작할 게임에서는 자동차와 깃발 사이의 거리를 UI로
표시해야 하므로 감독 스크립트를 작성함
예 ‐ 연극에서 감독은 진행 상황을 파악하면서 배우들에게
지시를 내림
‐ 게임에서도 플레이를 차질 없이 진행하려면
감독 스크립트가 필요함
필요한 감독 스크립트
UI를 갱신할 수 있는 감독
게임프로그래밍개발/5주차
2) 게임 리소스 생각해보기
2. User Interface(UI)와 감독 오브젝트(1)
8
5단계 스크립트를 만드는 흐름을 생각함
 각 스크립트를 바탕으로 어떻게 게임을 진행시켜 나갈지
고민해보기
 기본적으로는 다음의 순서로 만듦
컨트롤러
스크립트
자동차 컨트롤러
스와이프하면
달리기 시작해
점차 감속함
제너레이터
스크립트
없음
감독
스크립트
UI를 갱신할 수
있는 감독
자동차와 깃발
사이의 거리를
표시하는
UI 갱신
게임프로그래밍개발/5주차
2) 게임 리소스 생각해보기
2. User Interface(UI)와 감독 오브젝트(1)
제작할 스크립트
9
자동차 컨트롤러 게임 씬 감독
두 가지 스크립트를 통해 자동차 멈추기 게임의 움직임을 구현할 수 있음
자동차 컨트롤러
 스와이프하면 달리다가 서서히 감속해서 정지함
 스와이프 길이에 따라 달리는 거리가
변하도록 함
UI를 갱신할 수
있는 감독

‘자동차’와 ‘깃발’의 좌표를 알아내고
둘 사이의 거리를 UI에 표시함
게임프로그래밍개발/5주차
2) 게임 리소스 생각해보기
2. User Interface(UI)와 감독 오브젝트(1)
10
게임 제작 흐름을 정리하면 다음과 같음
움직이는 오브젝트를 만드는 방법은 항상 같으므로 반복해서 연습하고
흐름을 기억해야 함
UI 작성 순서도 움직이는 오브젝트와 마찬가지로 항상 같으므로
꼭 숙지해야 함
프로젝트
작성
오브젝트
배치
자동차
이동 UI 작성 감독 작성
게임프로그래밍개발/5주차
3) 게임 실습 제작
2. User Interface(UI)와 감독 오브젝트(1)
11
01 프로젝트 제작하기
 프로젝트에 리소스 추가
 씬 만들고 저장하기
02 씬에 오브젝트 배치하기
 게임에 필요한 오브젝트를 씬에 배치
03 스와이프로 자동차 움직이기
 자동차 스크립트 작성하기 및 적용하기
 스와이프 길이에 따라 자동차 이동 거리 바꾸기
게임프로그래밍개발/5주차
4) UI 표시하기
2. User Interface(UI)와 감독 오브젝트(1)
UI 설계 방침
UI를 만드는 방법
12
UI는 게임의 상태나 진행 상황을 표시하는 것으로 사용자가 게임을
재미있게 할 수 있도록 돕는 역할을 함
유니티에서는 UI 컴퍼넌트 라이브러리가 제공되어 UI 설계를 용이하게
할 수 있음
UI 컴퍼넌트를 Scene 뷰에 배치함
UI를 갱신하는 감독 스크립트를 작성함
빈 오브젝트를 만들고 작성한 스크립트를 적용함
게임프로그래밍개발/5주차
4) UI 표시하기
2. User Interface(UI)와 감독 오브젝트(1)
UI 설계 방침
사용할 UI 부품을 화면에 배치함
자동차와 깃발 사이의 거리를 글자로 표시하므로 UI 오브젝트인
Text를 사용함
Text를 배치하면 Text 표시를 갱신하는 감독 스크립트를 작성해
감독 오브젝트에 적용함
13
<출처3>
게임프로그래밍개발/5주차
4) UI 표시하기
2. User Interface(UI)와 감독 오브젝트(1)
Text를 사용해 거리 표시하기
14
UI 설계 화면은 일반적인 게임 설계 화면보다 크기가 훨씬 크므로
추가한 글자가 Scene 뷰에서 보이지 않을 수 있음
 이때는 Hierarchy 창에서 Text를 더블클릭함
글자의 좌표 부근까지 시점이 이동해 ‘New Text’라는 글자가 화면
중앙에 표시됨
UI 설계 화면은 Scene 뷰에서는 매우 크게 표시되지만, 실제 크기는
게임 화면에 맞춰짐
실행해 보면 UI가 화면에서 벗어나지 않음
게임프로그래밍개발/5주차
4) UI 표시하기
2. User Interface(UI)와 감독 오브젝트(1)
EventSystem
15
UI Text를 추가하면 Hierarchy 창에 Canvas와 EventSystem이
추가됨
EventSystem은 사용자 입력과 UI 부품을 중간에서 이어 주는
오브젝트로 UI를 사용할 때 반드시 필요함
EventSystem을 사용하면 입력 할당이나 무효화 등 키와 마우스
설정을 변경할 수 있음
게임프로그래밍개발/5주차
4) UI 표시하기
2. User Interface(UI)와 감독 오브젝트(1)
Text를 사용하여 거리 표시하기
Distance의 위치와 크기를 조정함
Hierarchy 창에서 Distance를 클릭
Inspector 창에서 Rect Transform 
항목의 Pos X, Pos Y, Pos Z를 0, 0, 0, 
Width와 Height를 700과 80으로 설정
Character 항목의 Font Size를 64
Paragraph 항목의 Alignment를 세로
방향과 가로 방향 모두 중앙 정렬로 설정
16
<출처4>
게임프로그래밍개발/5주차
4) UI 표시하기
2. User Interface(UI)와 감독 오브젝트(1)
Text를 사용하여 거리 표시하기
Rect Transform
UI에서는 부품의 좌표를 표시하는 데 Transform이 아닌
Rect Transform을 사용함
17
Transform
위치, 회전, 크기를 변경할 수
있음
Rect Transform
위치, 회전, 크기는 물론
피벗과 앵커를 변경할 수 있음
피벗 회전 또는 확대나 축소를 할 때 쓰는 중심 좌표
앵커 UI 리소스를 배치할 때 기준이 되는 위치 지정
게임프로그래밍개발/5주차
4) UI 표시하기
2. User Interface(UI)와 감독 오브젝트(1)
Text를 사용하여 거리 표시하기
Rect Transform
18
<출처5>
게임프로그래밍개발/5주차
출처 및 참고문헌 S o u r c e & R e f e r e n c e
19
출처1~5 : 교수님 직접 제공
게임프로그래밍개발/5주차
정리하기 S u m m a r y
20
함수의 형태 4가지
• 매개변수(인자, 파라미터)가 없는 함수
• 반환값이 있는 함수(결과값이 있는 함수)
• 매개변수가 있는 함수
• 매개변수가 가변(여러 개)인 함수
UI는 게임의 상태나 진행 상황을 표시하는 것으로 사용자가 게임을
재미있게 할 수 있도록 돕는 역할을 함
유니티에서는 UI 컴퍼넌트 라이브러리가 제공되어 UI 설계를 용이하게
할 수 있음
게임프로그래밍개발/5주차

## 6. 다양한 게임 요소 제작(2)

임덕선 교수
다양한 게임 요소 제작(2)
게임프로그래밍개발/6주차
학습내용 C o n t e n t s
학습목표 O b j e c t i v e s
배열 사용하기
User Interface(UI)와 감독 오브젝트(2)
배열의 사용방법을 습득하여 데이터를 편리하게 관리할 수 있다.
유니티에서 UI를 관리 및 갱신하기 위한 감독 오브젝트에 대해
설명할 수 있다.
효과음과 같은 다양한 컴퍼넌트를 추가하는 방법을 습득하고
이를 구현할 수 있다.
2
자동차가 움직일 때 효과음 내기
스마트폰에서 움직여 보기
게임프로그래밍개발/6주차
3
배열 사용하기
게임프로그래밍개발/6주차
1. 배열 사용하기
변수와 배열 비교
1) 배열이란?
4
이름 하나로 데이터 여러 개를 저장하는 데이터 구조
배열
변수 선언
int kor = 100;
배열 선언
100 int[ ] eng = 
new int[3];
eng[2]
eng[1]
eng[0]
70
90
80
게임프로그래밍개발/6주차
1) 배열이란?
1. 배열 사용하기
5
변수
변수 하나에 값 하나만
저장할 수 있음
배열
배열 이름 하나에
데이터 여러 개를 보관할 수 있음
변수 여러 개를 이름 하나로 관리하는 것을 배열이라고 함
게임프로그래밍개발/6주차
1) 배열이란?
1. 배열 사용하기
6
 각 요소는 인덱스로 접근할 수 있으며, 인덱스는 0부터 시작함
배열은 요소들의 순서 있는 집합임
배열 하나에는 데이터 형식(정수형 배열, 문자열 배열 등) 하나만
보관할 수 있음
배열은 메모리의 연속된 공간을 미리 할당하고, 이를 대괄호([])와
0부터 시작하는 정수형 인덱스를 사용하여 접근하는 구조
배열을 선언할 때는 new 키워드로 배열을 생성한 후 사용할 수 있음
배열에서 값 하나는 요소(element) 또는 항목(item)으로 표현함
게임프로그래밍개발/6주차
2) 배열의 장점
1. 배열 사용하기
7
01 이름 하나로 변수 여러 개를 묶어 관리하기에 편함
02 반복문으로 쉽게 반복해서 값을 사용할 수 있음
03 필요한 데이터 개수를 정확히 정한다면 메모리를 적게 사용하여
프로그램 크기가 작아지고 성능이 향상됨
게임프로그래밍개발/6주차
3) 배열 선언하기
1. 배열 사용하기
배열 표기법
8
배열은 데이터 형식 이름 뒤에 [] 기호를 사용하여 선언함
배열에 저장된 데이터는 정수형 인덱스로 접근 가능함
배열에 있는 데이터는 for 문 또는 foreach 문을 사용하여 반복해서
출력할 수 있음
t y p e [ ] n a m e ;
배열의 차수 기록
배열 요소의
데이터 유형
배열 변수의
이름 기록
게임프로그래밍개발/6주차
3) 배열 선언하기
1. 배열 사용하기
9
정수형 배열은 다음과 같이 선언할 수 있음
int[ ] numbers;
배열 선언 후 new 연산자를 사용하여 배열크기만큼 메모리 영역을
잡을 수 있음
배열을 선언할 때 사용된 new 키워드는 형식을 인스턴스화(instantiate) 
시켜 주는 연산자임
특정 형식(여기에서는 배열)을 실제 사용 가능한 개체로 만들어 줌
new 키워드는 배열을 지정한 크기로 만들어 주는 연산자라고 할 수 있음
게임프로그래밍개발/6주차
3) 배열 선언하기
1. 배열 사용하기
10
정수형 배열을 선언한 후 요소 개수를 다음과 같이 생성할 수 있음
배열 크기를 생성할 때 사용하는 숫자를 첨자라고 함
첨자는 흔히 인덱스(index)라고 함
이 코드에서 intArray의 첨자는 3임
int[ ] numbers;
numbers = new int[3]; int[ ] intArray = new int[3];
한 줄로 표현도 가능함
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
11
1차원
배열
다차원
배열
가변
(jagged) 
배열
배열의 첨자를 하나만
사용하는 배열
첨자 2개 이상을
사용하는 배열
(2차원, 3차원, …)
‘배열의 배열’
이라고도 하며, 
이름 하나로 다양한
차원의 배열을 표현
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
12
01 1차원 배열
 1차원 배열을 선언하여 메모리 영역을 확보하는 코드 형태는
다음과 같음
데이터형식[ ] 배열이름;
 1차원 배열의 요소에 값을 대입하는 코드는 다음과 같음
배열이름[인덱스] = 값;
 1차원 배열의 참조는 정수형 인덱스를 사용하여 접근할 수 있음
Console.WriteLine(배열이름[인덱스]);
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
13
01 1차원 배열
 1차원 배열 관련 용어에서 인덱스와 첨자는 같은 뜻으로 사용함
 인덱스로 배열의 요소 하나를 가져올 수 있음
[인덱스와 요소]
인덱스 또는
첨자
복수의 데이터를 구분 짓는 번호
예 int[ ] intNum = new int[10];
‐ 숫자 10이 인덱스(첨자)
요소
배열의 요소 : 첨자 하나를 가지는 배열
예 사원번호[3]
‐ 세 번째 배열의 요소
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
14
01 1차원 배열
 다음과 같이 arr 이름의 배열을 선언하면, 메모리상에 다음과 같이
공간이 5개 잡힘
‐ 인덱스가 4이므로 C#에서 배열의 첨자는 0부터 시작해서
선언할 때 첨자인 (0 - 4)까지 5개를 만듦
‐ C#에서는 (n - 1) 규칙 또는 0 기반(zero base) 또는
제로 오프셋(zero offset)이라고 해서 모든 배열과 같은
데이터 구조의 인덱스는 0번째부터 사용된다는 것을 기억함
int[ ] arr = new int[5];
0 1 2 3 4
값
위치(인덱스)
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
15
01 1차원 배열
 index
‐ 배열 요소에 접근하기 위한 위치 번호
‐ 인덱스는 0부터 시작(0 ~ (N-1))
 1차원 배열 선언과 초기화
int[] arrNum = new int [5];
int[] arrNum = new int[] {0, 1, 2, 3, 4};
int[] arrNum = new int[5]{0, 1, 2, 3, 4};
int[] arrNum = {0, 1, 2, 3, 4 };
실습 코드 : 06_array_01
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
16
01 1차원 배열
 for, foreach – 반복문
 배열에 저장한 값을 읽기 위한 것
 foreach(자료형 식별자 in 배열)
// for 문 사용 출력: 정확하게 배열 범위를 알고 있을 때
for (int i =0; i <3; i++)
{
Console.WriteLine("{i}번 째 인덱스: intArray[i]");
}
// foreach 문 사용 출력: intArray에 데이터가 있는 동안 반복
foreach (int intValue in intArray)
{
Console.WriteLine("{0}", intValue);
}
실습 코드 : 06_array_02
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
17
02 다차원 배열
 차원 배열 및 3차원 배열처럼 차원이 2 이상인 배열을 다차원
배열이라고 함
 다차원 배열은 다음과 같이 선언함
2차원 배열 선언
데이터형식[,] 배열이름;
3차원 배열 선언
데이터형식[,,] 배열이름;
int[ ] oneArray;
int[,] twoArray; 
int[,,] threeArray; 
//1차원 배열 선언
//2차원 배열 선언
//3차원 배열 선언
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
18
02 다차원 배열
 2차원 배열의 인덱스는 다음과 같이 표현할 수 있음
int [,] arrNums = new int [2, 3];
arr[0,0] arr[0,1] arr[0,2]
arr[1,0] arr[1,1] arr[1,2]
[0] [1] [2]
[0]
[1]
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
19
02 다차원 배열
 2차원 배열 선언과 초기화
int[,] arrNum = new int[3, 2];
int[,] arrNum = new int[,]{{0, 1}, {2, 3}, {4, 5}};
int[,] arrNum = new int[3,2]{{0, 1}, {2, 3}, {4, 5}};
int[,] arrNum = {{0, 1}, {2, 3}, {4, 5}};
 2차원 배열은 표 형태로 데이터를 관리할 때 유용함
실습 코드 : 06_array_03
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
20
02 다차원 배열  다차원 배열 선언과 초기화
int
[,,] arrNum = new int
[
4, 
3, 
2
]
;
int
[,,] arrNum = new int
[,,]{
{{
0
,
1
}
,
{
2
,
3
}
,
{
4
,
5}}
,
{{
6
,
7
}
,
{
8
,
9
}
,
{10
,11}}
,
{{12
,13
}
,
{14
,15
}
,
{16
,17}}
,
{{18
,19
}
,
{20
,21
}
,
{22
,23}}
}
;
int
[
,] arrNum = {
{{
0, 
1
}, 
{
2, 
3
}, 
{
4, 
5}}
,
{{
6
,
7
}
,
{
8
,
9
}
,
{10
,11}}
,
{{12
,13
}
,
{14
,15
}
,
{16
,17}}
,
{{18
,19
}
,
{20
,21
}
,
{22
,23}}
}
; 실습 코드 : 06_array_04
게임프로그래밍개발/6주차
4) 배열의 종류
1. 배열 사용하기
21
03 가변 배열
 지그재그 형태의 배열이며, 데이터형식[][] 배열이름; 형태로 사용함
다차원 배열
차원이 2개 이상인 배열
가변 배열
배열 길이가 가변 길이인 배열
int[][] arrNum = new int[3][];
arrNum[0] = new int[2]{0, 1};
arrNum[1] = new int[4]{0, 1, 2, 3};
arrNum[2] = new int[]{0, 1, 2};
int[][] arrNum = new int[2][]{
new int[]{0, 1},
new int[3]{0, 1, 2};
실습 코드 : 06_array_05
게임프로그래밍개발/6주차
5) 배열을 관리하는 법
1. 배열 사용하기
22
public static void clear(Array arr_1, int index, int length);
public int Length{get;}
public int GetLength(int dimension);
public object Clone();
실습 코드 : 06_array_06
게임프로그래밍개발/6주차
6) var 키워드로 배열 선언하기
1. 배열 사용하기
23
배열도 선언과 동시에 초기화할 때 배열 이름 앞에 int[] 같은 배열 형식
대신에 var 키워드를 사용하여 선언할 수 있음
변수를 선언할 때도 var 키워드를 사용한 후 입력 값의 형식을
GetType() 메서드로 출력
public numbers = int[] {1, 2, 3} //배열형식
foreach (var item in numbers) //var item에서 item은
numbers형식
실습 코드 : 06_array_07
게임프로그래밍개발/6주차
7) 함수의 매개변수(파라메터)로 배열을 사용
1. 배열 사용하기
Call by Reference
리턴형 함수명
int[] 파라메터명
리턴형 함수명
int[,] 파라메터명
24
void Function(int[] arr)
void Function(int[,] arr)
실습 코드 : 06_array_08
게임프로그래밍개발/6주차
8) 함수의 리턴으로 배열을 사용
1. 배열 사용하기
Call by Reference
int[] 함수명
int[] 파라메터명
리턴형 함수명
int[,] 파라메터명
25
실습 코드 : 06_array_09
int[] Function(int[] arr)
int[,] Function(int[,] arr)
게임프로그래밍개발/6주차
1
User Interface(UI)와
감독 오브젝트(2)
자동차가 움직일 때 효과음 내기
스마트폰에서 움직여 보기
게임프로그래밍개발/6주차
2. User Interface(UI)와 감독 오브젝트(2)
UI로 글자를 배치했지만 항상 New Text로 표시하면 의미가 없음
New Text 부분에 자동차와 깃발 사이의 거리를 표시할 수 있도록 감독
스크립트를 작성함
1) UI를 갱신하는 스크립트 작성하기
2
감독 스크립트는 Scene 뷰 위에 보이는 ‘자동차’와 ‘깃발’의 좌표를 조사해
두 좌표 사이의 거리를 계산하고, 계산한 거리를 방금 작성한 UI 스크립트에 표시함
현재 좌표 정보
현재 좌표 정보
목표 지점까지 0.0m
감독 오브젝트
정보갱신
<출처1>
게임프로그래밍개발/6주차
1) UI를 갱신하는 스크립트 작성하기
2. User Interface(UI)와 감독 오브젝트(2)
3
Project 창에서 마우스 오른쪽 버튼 클릭
Create - C# Script 선택
파일명을 GameDirector로 변경
 스크립트 작성 : GameDirector
우선 감독 스크립트를 작성해 보자
게임프로그래밍개발/6주차
1) UI를 갱신하는 스크립트 작성하기
2. User Interface(UI)와 감독 오브젝트(2)
GameDirector를 더블 클릭하여 파일을 열고 스크립트를 다음과 같이 입력함
4
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI; // UI를 사용하는 데 필요하다
public class GameDirector : MonoBehaviour
{
GameObject car;
GameObject flag;
GameObject distance;
void Start()
{
this.car = GameObject.Find("car");
this.flag = GameObject.Find("flag");
this.distance = GameObject.Find("Distance");
}
void Update()
{
float length = this.flag.transform.position.x - this.car.transform.position.x;
this.distance.GetComponent<Text>().text = "목표 지점까지 " + length.ToString("F2") + "m";
}
}
게임프로그래밍개발/6주차
1) UI를 갱신하는 스크립트 작성하기
2. User Interface(UI)와 감독 오브젝트(2)
오브젝트 위치를 저장할 변수 선언하기
5
void Start()
{
this.car = GameObject.Find("car");
this.flag = GameObject.Find("flag");
this.distance = GameObject.Find("Distance");
}
GameObject
car
GameObject
flag
GameObject
Distance
게임프로그래밍개발/6주차
1) UI를 갱신하는 스크립트 작성하기
2. User Interface(UI)와 감독 오브젝트(2)
각 상자에 대응하는 오브젝트를 씬 안에서 찾아 넣어야 함
유니티에서는 씬 안에서 오브젝트를 찾을 수 있도록 Find 메서드를 제공함
Find 메서드는 오브젝트 이름을 인수로 전달하고 인수 이름이
게임 씬 안에 있으면 해당 오브젝트를 반환
6
목표 지점까지 0.0m
Distance
Game
Object
car
게임프로그래밍개발/6주차
1) UI를 갱신하는 스크립트 작성하기
2. User Interface(UI)와 감독 오브젝트(2)
7
씬에서 찾아낸 자동차와 깃발 오브젝트 각각의 X 좌표를
car.transform.position.x와 flag.transform.position.x로 구함
게임 오브젝트의 좌표는 게임오브젝트이름.transform.position으로
구할 수 있다는 정도로만 숙지함
distance 오브젝트의 Text 컴포넌트에 위에서 구한 거리를 대입함
float length = this.flag.transform.position.x -
this.car.transform.position.x;
this.distance.GetComponent<Text>().text = "목표 지점까지 " + 
length.ToString("F2") + "m";
게임프로그래밍개발/6주차
1) UI를 갱신하는 스크립트 작성하기
2. User Interface(UI)와 감독 오브젝트(2)
8
인수에는 값을 표시할 형식을 지정할 수 있음
인수에 넣을 수 있는 형식 중 대표적인 것은 다음과 같음
ToString으로 사용하는 서식 지정자
값을 문자열로 변환하는 메서드
ToString
서식 지정자 설명 예
정수형 D
[자릿수]
정수를 표시할 때
사용하며, 지정한
자릿수를 채우지 않으면
왼쪽에 0이 삽입됨
(456).ToString(“D5”) 
→ 00456
고정 소수점형 F
[자릿수]
소수를 표시할 때 소수점
이하 자릿수를 조정함
(12.3456).ToString
(“F3”) → 12.345
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
9
감독 스크립트를 전달하는 오브젝트가 보이지 않음
배우에게 대본을 넘겨야 비로소 처음 사용되듯이 스크립트도 오브젝트에
전달해야 사용될 수 있음
 완전히 빈 오브젝트를 만들고 그 오브젝트로 스크립트를 전달함
완전히 빈 오브젝트는 감독 스크립트를 전달하면서 감독 오브젝트로
변신해 감독 역할을 함
빈 오브젝트 감독 오브젝트
C# 스크립트를 적용함
<출처2>
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
실습
10
Hierarchy 창에서 +를 클릭하고 Create Empty를 선택해
빈 오브젝트를 만듦
Hierarchy 창에 GameObject가 만들어지면 이름을
GameDirector로 바꿈
작성한 GameDirector 오브젝트에 GameDirector
스크립트를 적용함
Project 창의 GameDirector 스크립트를 Hierarchy 창에 있는
GameDirector 오브젝트로 드래그&드롭함
(1/2)
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
실습
11
지금은 끌어다 붙인 스크립트와 오브젝트가 같은 이름이지만
반드시 일치할 필요는 없음
Inspector 창을 보면 GameDirector 오브젝트에
GameDirector 스크립트가 적용된 것을 알 수 있음
(2/2)
게임을 실행함
감독 지시에 따라 자동차와 깃발 사이의 거리가 UI에 실시간으로
반영됨
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
실습
12
목표 지점까지 14.50m
자동차와 깃발 사이의 거리가
실시간으로 표시됨
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
컴포넌트
13
자동차 오브젝트의 좌표로 접근할 때 car.transform.position.x를
썼음
자동차 좌표이므로 car.position으로 써도 될 것 같지만 중간에
transform 변수가 들어감
transform 변수는 무엇이고 도대체 어디에서 왔을까?
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
컴포넌트
14
유니티 오브젝트는 GameObject라는 빈 상자에 설정
자료(컴포넌트)를 추가(적용)해서 기능을 늘릴 수 있음
예 오브젝트를 물리적으로 움직이게 하려면 Rigidbody 컴포넌트를
추가하고, 소리를 내게 하려면 AudioSource 컴포넌트를 추가함
 컨트롤러 스크립트나 감독 스크립트도 컴포넌트의 일종
자체 기능을 늘리고 싶다면 스크립트 컴포넌트를 추가함
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
컴포넌트
15
오브젝트의 좌표와 회전을 관리하는 Transform 컴포넌트가 있음
Transform 컴포넌트
핸들처럼 좌표, 회전, 이동 같은
오브젝트의 움직임과 관련된
기능을 제공하는 것
AudioSource 컴포넌트
CD 플레이어 같은 기능을
제공하는 것
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
컴포넌트를 적용하여 기능 추가하기
16
설정
물리적으로
움직이고 싶음 소리를 내고 싶음 자체 기능을
추가하고 싶음
Game
Object
Game
Object
Game
Object
Game
Object
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
car.transform.position.x
자동차 오브젝트(car)에 적용한 Transform 컴포넌트에 있는
좌표(position) 정보로 접근함
17
[Transform 컴포넌트 역할]
Game
Object x y
Transform
position
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
18
스크립트에서는 Transform 컴포넌트를 transform으로 썼음
AudioSource 컴포넌트를 audioSource, Rigidbody 컴포넌트를
rigidbody로 쓸 것 같지만 Transform을 제외한 나머지 컴포넌트는
저렇게 쓰지 않음
[컴포넌트로 접근하는 방법]
car.transform car.audioSource
빵 빵
<출처3>
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
그럼 컴포넌트에 어떻게 접근해야 할까? 
19
게임 오브젝트에 대해 ‘OO 컴포넌트를 주세요!’라고 부탁하면
해당되는 컴포넌트(기능)를 돌려주는 메서드
이 문제를 해결하려면 GetComponent 메서드를 씀
AudioSource 컴포넌트를
원할 경우
GetComponent
<AudioSource>() 라고 씀
Text 컴포넌트를
원할 경우
GetComponent
<Text>()라고 씀
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
20
[GetComponent로 컴포넌트 구하기]
car.GetComponent
<Audio Source>();
car.GetComponent
<Transform>();
빵 빵
<출처4>
게임프로그래밍개발/6주차
2) 스크립트를 감독 오브젝트에 적용하기
2. User Interface(UI)와 감독 오브젝트(2)
직접 만든 스크립트도 컴포넌트의 일종이므로 GetComponent 메서드를
써서 구할 수 있음
CarController 스크립트에 Run 메서드를 구현했다면
car.GetComponent<CarController>().Run()으로 자동차
오브젝트에 적용한 CarController 스크립트의 Run 메서드를 호출할
수 있음
21
[GetComponent로 메서드 접근하기]
car.GetComponent<CarController>(), Run();
<출처5>
게임프로그래밍개발/6주차
3. 자동차가 움직일 때 효과음 내기
효과음은 게임을 재미나게 하는 중요한 요소임
게임을 만들 때 나는 소리를 그다지 중요하게 생각하지 않아 대충 만들어
넣기도 하는데 이것은 잘못된 생각임
22
자동차에 효과음을 넣어보자
게임에 적합한
효과음을 넣음
게임을 더욱 재미있게
할 수 있음
게임 전체의
품질을 높일 수 있음
게임프로그래밍개발/6주차
1) AudioSource 컴포넌트를 사용하는 방법
3. 자동차가 움직일 때 효과음 내기
23
유니티에서는 AudioSource 컴포넌트로 효과음을 냄
AudioSource 컴포넌트를 써서 스와이프할 때 ‘붕~’ 하는 효과음을
넣어 보자!
효과음을 낼 때는 다음 세 단계를 거침
효과음을 낼 오브젝트에 AudioSource 컴포넌트를 적용함
AudioSource 컴포넌트에 효과음을 설정함
효과음을 울리고 싶은 시간에 스와이프하면 Play 메서드를 호출함
게임프로그래밍개발/6주차
1) AudioSource 컴포넌트를 사용하는 방법
3. 자동차가 움직일 때 효과음 내기
AudioSource 컴포넌트는 CD 플레이어와 같음
CD 플레이어처럼 음원이 되는 디스크(음악 파일)를 설정해 두면
좋아하는 음을 낼 수 있음
자동차가 효과음을 낼 수 있도록 자동차 오브젝트에
AudioSource(CD플레이어)를 설정함
24
자동차 오브젝트에 AudioSource 컴포넌트를 적용해야 하므로
Hierarchy 창에서 car를 클릭함
Inspector 창에서 Add Component를 클릭함
Audio - Audio Source를 선택함
게임프로그래밍개발/6주차
1) AudioSource 컴포넌트를 사용하는 방법
3. 자동차가 움직일 때 효과음 내기
AudioSource 컴포넌트는 CD 플레이어와 같음
25
[AudioSource 컴포넌트]
Audio 
Source
자동차
오브젝트
음악 파일
설정하기
적용하기
<출처6>
게임프로그래밍개발/6주차
1) AudioSource 컴포넌트를 사용하는 방법
3. 자동차가 움직일 때 효과음 내기
26
1
car 클릭
2
Add Component 클릭
3
Audio – Audio Source 클릭
<출처7>
게임프로그래밍개발/6주차
2) 효과음 설정하기
3. 자동차가 움직일 때 효과음 내기
27
다음으로 CD 플레이어에 디스크(음악 파일)를 설정해 보자
Hierarchy 창에서 car 클릭
Project 창에 있는 car_se를 Inspector 창에 있는
Audio Source 항목의 AudioClip으로 드래그&드롭
Play On Awake 체크 해제
체크되면 게임을 시작한 시점에 자동으로 소리가 재생됨
게임프로그래밍개발/6주차
[스크립트에서 재생하기]
3) 스크립트에서 소리 재생하기
3. 자동차가 움직일 때 효과음 내기
28
AudioSource 컴포넌트를 car 오브젝트에 적용했으므로 적용된
스크립트(CarController)에서 Play 메서드를 호출해 보도록 함
효과음을 재생하려면 스크립트에서 AudioSource 컴포넌트의 Play 
메서드를 호출해야 함
Audio 
Source 자동차
오브젝트
음악 파일
play
<출처8>
게임프로그래밍개발/6주차
3) 스크립트에서 소리 재생하기
3. 자동차가 움직일
때 효과음 내기
29
using System.Collections
;
using System.Collections.Generic
;
using UnityEngine
;
public class CarController : MonoBehaviour {
float speed = 
0
;
Vector2 startPos
;
void Start() {}
void Update() {
// 스와이프 길이를 구한다
if
(Input.GetMouseButtonDown
(
0))
{
// 마우스를 클릭한 좌표
this.startPos = Input.mousePosition
;
}
else if
(Input.GetMouseButtonUp
(
0))
{
// 마우스 버튼에서 손가락을 떼었을
때 좌표
Vector2 endPos = Input.mousePosition
;
float swipeLength = endPos.x
- this.startPos.x
;
// 스와이프 길이를 처음 속도로 변환한다
this.speed = swipeLength / 500.0f
;
// 효과음을 재생한다
GetComponent
<AudioSource>().Play()
;
}
transform.Translate
(this.speed, 
0, 
0
); // 이동
this.speed *= 0.98f; // 감속 }}
Project 창에 있는 CarController
스크립트를 더블 클릭
스크립트가 열리면 효과음을 내는
처리를 추가함
게임프로그래밍개발/6주차
3) 스크립트에서 소리 재생하기
3. 자동차가 움직일 때 효과음 내기
사용할 수 있는 음원 파일의 형식과 확장자
유니티에서는 음원 파일을 폭넓게 지원함
대표적인 파일 형식은 다음과 같음
나머지 음원은 유니티 웹 사이트에서 확인할 수 있음
30
형식 확장자
MPEG Layer3 .mp3
Ogg Vorbis .ogg
Microsoft Wave .wav
Audio Interchange File Format .aiff/.aif
게임프로그래밍개발/6주차
4. 스마트폰에서 움직여 보기
스마트폰에서 탭은 GetMouseButtonDown 및
GetMouseButtonUp 메서드로 얻을 수 있기 때문에 그대로 빌드해도
컴퓨터와 동일하게 동작함
31
마지막으로 스마트폰에서 움직여 보자
게임프로그래밍개발/6주차
4. 스마트폰에서 움직여 보기
32
아이폰에 빌드하기 안드로이드에 빌드하기
 기기에서 검증하기 위해 먼저 컴퓨터와 기기를 USB 케이블로 연결함
 Company Name에 영문자로 원하는 이름을 입력함
(다른 것과 중복되지 않는 문자열을 입력)
 Build Settings 창의 Scenes In Build에서 Scenes/SampleScene
체크를 해제하고, Project 창의 GameScene을 Scenes In Build로
드래그&드롭함
 설정했으면 Build - New Folder 순으로 클릭하고 SwipeCar_iOS로
입력한 후 Create - Choose 순으로 클릭해 내보내기를 시작함
 성공하면 자동으로 Xcode용 프로젝트 폴더가 열림
 그 안의 SwipeCar_iOS 폴더의 Unity-iPhone.xcodeproj를 더블
클릭해 Xcode를 열고, Signing 항목의 Team을 선택해 기기에 넣어줌
 기기에서 동작을 확인할 때 매너 모드면 소리가 나지 않으므로 매너 모드를
해제함
게임프로그래밍개발/6주차
4. 스마트폰에서 움직여 보기
33
아이폰에 빌드하기 안드로이드에 빌드하기
 컴퓨터와 기기를 USB 케이블로 연결함
 Company Name에 영문자로 원하는 이름을 입력함
(다른 것과 중복되지 않는 문자열을 입력)
 Build Settings 창의 Scenes In Build에서 Scenes/SampleScene
체크를 해제하고, Project 창의 GameScene을 Scenes In Build로
드래그&드롭
 설정했으면 Build And Run을 클릭하고 프로젝트 이름을
SwipeCar_Android, 저장 장소를 SwipeCar 프로젝트 폴더로 지정한
후 Save를 클릭해 apk 파일 작성과 기기로 넣기를 시작함
 기기에서 동작을 확인할 때 매너 모드면 소리가 나지 않으므로 매너 모드를
해제함
게임프로그래밍개발/6주차
출처 및 참고문헌 S o u r c e & R e f e r e n c e
34
출처1, 7 : 직접 캡쳐
출처2~6, 8 : 기타무라 마나미(저), 김은철,유세라(역)(2022). 유니티 교과서 개정 5판. 길벗출판사
게임프로그래밍개발/6주차
정리하기 S u m m a r y
35
감독을 만드는 방법
• 감독 스크립트를 작성함
• 빈 오브젝트를 만듦
• 빈 오브젝트에 감독 스크립트를 적용함
GetComponent를 써서 메서드를 호출하는 스크립트는 앞으로도 계속
등장함
오브젝트와 컴포넌트 관계를 제대로 이해해야 함
게임프로그래밍개발/6주차

## 7. 프리팹 활용하기

임덕선 교수
프리팹 활용하기
게임프로그래밍개발/7주차
학습내용 C o n t e n t s
학습목표 O b j e c t i v e s
클래스(1)
프리팹과 충돌 판정(1)
C#의 모든 코드에 반드시 들어가는 클래스(class)의 주요 기능에
대해 설명할 수 있다.
유니티에서 프리팹을 사용해 오브젝트를 생성하는 방법에 대해
학습한다.
게임 제작에서 충돌 판정에 대한 기본 지식을 습득하고 이를
구현할 수 있다.
2
게임프로그래밍개발/7주차
3
클래스(1)
게임프로그래밍개발/7주차
1. 클래스(1)
public class 클래스이름 {} 같은 코드 블록을 사용하여 정의할 수 있음
변수(필드)와 함수(메서드)를 하나의 단위로 결합함
1) 클래스 소개
4
프로그래머가 직접 만든 틀
클래스
public class Checking
{
public int x, y; //변수(필드)
public Checking() //메서드(함수)
{
…
}
}
속성
데이터를 다룸
메서드
로직을 다룸
Member
게임프로그래밍개발/7주차
1) 클래스 소개
1. 클래스(1)
5
의미에 따른 클래스 구분
내장 형식
(built-in type)
사용자 정의 형식
(user defined type)
사용자가 직접 클래스 구조를
만드는 것
닷넷 프레임워크에서
이미 만들어 놓은 것
예 Console, String, Math 등
class 키워드로 Product, Note, User, Group처럼 새로운
형식을 정의할 수 있는데, 이를 사용자 데이터 형식이라고 함
게임프로그래밍개발/7주차
클래스를 정의하면 다음과 같음
클래스의 역할
C# 프로그래밍의 기본 단위로 새로운 객체(실체)를 생성하는
설계도(청사진) 역할을 함
2) 클래스 만들기
1. 클래스(1)
6
클래스는 객체를 생성하는 틀(템플릿)입니다. 
클래스는 무엇인가를 만들어 내는 설계도입니다. 
예 ‐ 자동차라는 객체(object)를 만들려면 자동차 설계도가 필요함
‐ 프로그래밍에서도 설계도가 필요한데, 이 역할을 하는 것이
클래스(class)임
즉 클래스는 객체를 생성하는 틀(템플릿)이며, 더 간단히
말하자면 ‘무엇인가를 만들어 내는 설계도’임
게임프로그래밍개발/7주차
클래스 선언하기
클래스를 선언하는 형태는 다음과 같음
클래스 이름은 반드시 대문자로 시작함
2) 클래스 만들기
1. 클래스(1)
7
public class 클래스이름
{
//클래스 내용 구현
}
게임프로그래밍개발/7주차
3) 클래스와 객체
1. 클래스(1)
8
클래스
class 키워드로 생성한 것
객체
클래스를 new 키워드를
사용하여 새로운 이름으로
만든 것
클래스이름 개체이름 = new 클래스이름( );
예 ‐ Car car = new Car( );
‐ Product p = new Product( );
게임프로그래밍개발/7주차
3) 클래스와 객체
1. 클래스(1)
생성자, 소멸자
9
생성자 소멸자
객체를 생성하면서 무엇인가를
하고자 할 때 호출
클래스의 인스턴스를 사용한 후
최종 정리할 때 호출
게임프로그래밍개발/7주차
3) 클래스와 객체
1. 클래스(1)
생성자, 소멸자
10
생성자 소멸자
 클래스 이름과 동일한 이름을 갖는 메서드는 모두 생성자
 반환값은 가지지 않음
 일반적으로 public 키워드를 사용하는 인스턴스 생성자를 많이
사용함
 멤버 변수 초기화
 클래스의 인스턴스인 객체가 생성될 때 자동으로 실행됨
게임프로그래밍개발/7주차
3) 클래스와 객체
1. 클래스(1)
생성자, 소멸자
11
소멸자
 클래스 이름과 동일한 메서드로 앞에 물결 기호인 ~(틸드)를 붙여
만듦
 접근 한정자를 가지지 않음
 반환값은 가지지 않음
생성자
실습 코드 : 07_Class_01
게임프로그래밍개발/7주차
4) 클래스의 맴버에 접근할 수 있는 범위
1. 클래스(1)
12
public 접근이 제한되지 않음
protected 이 클래스 혹은 이 클래스에서 파생된 클래스로만
액세스가 제한됨
internal 현재 어셈블리(.exe, .dll)로만 액세스가 제한됨
protected 
internal
포함하는 클래스 또는 이 클래스에서 파생된 클래스나
동일한 어셈블리 내의 클래스로만 액세스가 제한됨
private 이 클래스로만 액세스가 제한됨
private 
protected
동일한 범위에 포함하는 유형 혹은 포함하는
클래스로부터 파생된 클래스만 액세스가 제한됨
실습 코드 : 07_Class_02
게임프로그래밍개발/7주차
5) this와 this()키워드
1. 클래스(1)
클래스 내에서의 this와 this()키워드
사용하는 곳
클래스 내부에서 멤버 변수에 접근할 때
사용함
함수의 파라메터 이름과 멤버 변수 이름이
동일함
13
this
자신을 의미함
this()키워드
자신의 생성자를 나타냄
class Car
{
int x;
public Car(int x) {
this.x = x;
}
}
실습 코드 : 07_Class_03
게임프로그래밍개발/7주차
6) static 키워드
1. 클래스(1)
static 키워드가 붙은 멤버에
접근할 때는 다음의 형태로 접근함
클래스의 멤버를 객체 생성 없이
사용 가능함
static 키워드가 붙은 변수를
클래스 static 필드
(변수
)라고
함
static 키워드가 붙으면
일반적으로 공유(shared) 
개념인데, 클래스 내의 여러
메서드에서 해당 클래스 변수를
공유해서 사용함
이러한 static 키워드가 붙는
메서드는 정적 메서드
(함수
)라고
함
14
class MEMBER {
public static int
x
;
public static int
y
;
public static void Print() {
Console.WriteLine
("x: {0}, 
x
"
)
;
Console.WriteLine
("y: {0}, 
y
"
)
;
}
클래스이름
.멤버이름; 
실습 코드 : 07_Class_04
게임프로그래밍개발/7주차
7) 클래스의 메서드 활용
1. 클래스(1)
클래스가 메서드의 매개변수(파라메터)
클래스가 메서드의 리턴형
15
static void CopyRefClass(XX xx) {
XX refXX = xx;
refXX.x = 100;
refXX.y = 1000;
}
static XX CopyValueClass (XX xx) {
XX tempXX =new XX();
tempXX.x = xx.x;
tempXX.y = xx.y;
tempXX.x = 0;
return tempXX;
} 실습 코드 : 07_Class_05
게임프로그래밍개발/7주차
8) 상속으로 클래스 확장하기
1. 클래스(1)
16
 이러한 내용을 객체 관계 프로그래밍(object relationship 
programming)이라고도 함
클래스 간에는 부모와 자식 관계를 설정할 수 있음
상속은 부모 클래스에 정의된 기능을 다시 사용하거나 확장 또는 수정하여
자식 클래스로 만드는 것을 말함
특정 클래스에서 만든 기능을 다른 클래스에 상속으로 물려주면 장점이
많음
게임프로그래밍개발/7주차
9) 클래스 상속하기
1. 클래스(1)
17
부모 재산을 자식에게 상속하듯이 부모 클래스(기본 클래스)의 모든 멤버를
자식 클래스(파생 클래스)가 재사용하도록 허가하는 기능이 있음
여러 클래스 간의 관계를 설정할 때 수평 관계가 아닌 부모와 자식 간
관계처럼 계층적인 관계를 표현할 때 사용하는 개념을 상속이라고 함
재사용의 핵심 개념이 바로 상속임
객체 지향 프로그래밍의 장점 중 하나는 이미 만든 클래스를 재사용하는 것
게임프로그래밍개발/7주차
9) 클래스 상속하기
1. 클래스(1)
18
클래스 상속의 구분
단일 상속
(single inheritance)
다중 상속
(multiple inheritance)
C#의 클래스 상속은
단일 상속만 지원함
인터페이스로
지원받을 수 있음
게임프로그래밍개발/7주차
9) 클래스 상속하기
1. 클래스(1)
클래스 상속 구문
C#에서는 클래스 이름 뒤에 콜론(:) 기호와 부모가 되는 클래스 이름을 붙임
19
부모 클래스
parent, base, 상위, super
자식 클래스
child, derived, 파생, sub
public class 기본클래스이름
{
//기본 클래스 멤버 정의
}
public class 파생클래스이름 : 기본클래스이름
{
//기본 클래스의 멤버를 포함한 자식 클래스의 멤버 정의
}
게임프로그래밍개발/7주차
9) 클래스 상속하기
1. 클래스(1)
20
01 System.Object 클래스
 모든 클래스의 부모 클래스
 닷넷에서 가장 높은 층에 속하는 시조(조상) 클래스라고 할 수 있음
 새롭게 만드는 C#의 모든 클래스는 자동으로 Object 클래스에서
상속받기에 Object 클래스를 상속하는 코드는 생략 가능함
02 기본(base) 클래스
 다른 클래스의 부모 클래스가 되는 클래스
 다른 말로 Base 클래스, Super 클래스라고도 함
게임프로그래밍개발/7주차
9) 클래스 상속하기
1. 클래스(1)
21
03 파생(derived) 클래스
 다른 클래스의 자식 클래스가 되는 클래스
 다른 클래스에서 멤버를 물려받은 것으로, 다음과 같이 표현함
Derived 
클래스
Sub 
클래스
자식
클래스
게임프로그래밍개발/7주차
9) 클래스 상속하기
1. 클래스(1)
부모 클래스와 자식 클래스
프로그래밍에서 상속을 표현할 때
콜론(:) 기호로 상속 관계를 지정하면 부모 클래스의 public 멤버들을
자식 클래스에서 그대로 물려받아 사용할 수 있음
public을 포함하여 protected로 선언된 멤버들도 자식 클래스에서
사용 가능함
22
부모 클래스
상속을 주는 클래스
자식 클래스
상속을 받는 클래스
게임프로그래밍개발/7주차
9) 클래스 상속하기
1. 클래스(1)
23
class Super
{
protected int x;
public void Print() {
Console.WriteLine("Super Print()");
}
}
class Sub:Super
{
int y;
public void Print() {
Console.WriteLine("Sub Print () x: {0}, y: {1}", x, y);
}
실습 코드 : 07_Class_06
게임프로그래밍개발/7주차
9) 클래스 상속하기
1. 클래스(1)
상속에서 생성자 함수 소멸자 함수
base 키워드
24
base
부모 클래스를 의미함
base()
부모 클래스의 생성자를 나타냄
public Sub(int number, string title) :base(number)
base.PrintSuper();
실습 코드 : 07_Class_06
실습 코드 : 07_Class_07
게임프로그래밍개발/7주차
10) is 키워드 & as 키워드
1. 클래스(1)
is 키워드
특정 객체가 특정 형식인지 검사할 때는 is 연산자를 사용함
bool 리턴
as 키워드
as 연산자는 특정 데이터를 특정 데이터 형식으로 변환하는 데 사용함
해당 데이터 형식이면 변환하고 그렇지 않으면 null을 반환하는 것에
주의함
25
if (x is YY)
else if (x is XX)
YY convYY= yy as YY;
실습 코드 : 07_Class_08
게임프로그래밍개발/7주차
1
프리팹과 충돌 판정(1)
게임프로그래밍개발/7주차
2. 프리팹과 충돌 판정(1)
프리팹은 Asset에 저장되어 있으며, 프리팹 인스턴스(Prefab 
instance)를 생성하여 동작함
1) 게임 설계하기
2
프리팹(Prefab)(설계도), 공장, 충돌 판정 등과 같은 게임을 제작할 때
기본이 되는 부분을 습득
미리 만들어 놓은 게임 오브젝트, 템플릿
프리팹(Prefab)
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
제작할 게임 살펴보기
‘플레이어를 움직여 떨어지는 화살을 피하는 게임’을 만듦
3
제작할 게임 화면
<출처1>
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 기획
화면 중앙에는 플레이어를 표시하고 오른쪽 위에는 HP 게이지를
표시함
화살이 위에서 아래로 떨어지므로 플레이어를 좌우 화살표 버튼으로
움직여 화살을 피함
플레이어가 화살에 맞으면 HP 게이지가 줄어듦
4
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
5
1단계 화면에 놓일 오브젝트를 모두 나열함
2단계 오브젝트를 움직일 수 있는 컨트롤러 스크립트를 정함
오브젝트를 자동으로 생성할 수 있도록 제너레이터
스크립트를 정함 3단계
4단계 UI를 갱신할 수 있도록 감독 스크립트를 준비함
5단계 스크립트를 만드는 흐름을 생각함
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
6
1단계 화면에 놓일 오브젝트를 모두 나열함
[화면에 놓일 오브젝트 나열하기]
플레이어 화살 배경 이동 버튼 HP 게이지
<출처2>
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
7
2단계 오브젝트를 움직일 수 있는 컨트롤러 스크립트를 정함
 1단계에서 나열한 오브젝트 중에서 움직이는 오브젝트를 찾음
 플레이어 : 게임을 하는 사람이 조작하므로 움직이는 오브젝트
 화살 : 위에서 아래로 떨어지므로 움직이는 오브젝트
 HP 게이지 : UI이므로 움직이는 오브젝트가 아님
[움직이는 오브젝트 고르기]
플레이어 화살 배경 이동 버튼 HP 게이지
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
8
2단계 오브젝트를 움직일 수 있는 컨트롤러 스크립트를 정함
 움직이는 오브젝트에는 오브젝트의 움직임을 제어하는
대본(컨트롤러 스크립트)이 필요함
 이번 게임에서는 ‘플레이어 컨트롤러’와 ‘화살 컨트롤러’를
만들어야 함
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
9
 게임을 플레이할 때 생성될 오브젝트를 찾음
 적 캐릭터나 무대 등 플레이어가 이동하거나 시간이 흐르면
출현하는 오브젝트가 해당함
 이번 게임에서는 화살이 위에서 아래로 계속 떨어지므로
게임을 플레이할 때 생성되는 오브젝트는 ‘화살’
오브젝트를 자동으로 생성할 수 있도록 제너레이터
스크립트를 정함 3단계
[게임을 플레이할 때 생성될 오브젝트 고르기]
플레이어 화살 배경 이동 버튼 HP 게이지
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
10
 게임 도중에 오브젝트를 자동으로 생성하려면 생성을 담당할
공장이 필요함

‘공장’을 가동시키려면 제너레이터 스크립트가 필요함
 여기서는 화살 공장을 만들어야 하므로 화살 제너레이터
스크립트가 필요함
오브젝트를 자동으로 생성할 수 있도록 제너레이터
스크립트를 정함 3단계
[화살 제너레이터 스크립트]
<출처3>
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
11
4단계 UI를 갱신할 수 있도록 감독 스크립트를 준비함
 게임에서 UI를 사용하면 게임 진행 상황을 보면서 UI를
갱신하는 감독이 필요함
 이 게임에서는 UI로 HP 게이지를 사용하므로 HP 게이지를
갱신할 수 있는 감독 스크립트가 필요함
[감독이 필요한 UI]
플레이어 화살 배경 이동 버튼 HP 게이지
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
12
5단계 스크립트를 만드는 흐름을 생각함
 다음의 순서로 만듦
컨트롤러
스크립트
제너레이터
스크립트
감독
스크립트
 플레이어
컨트롤러
‐ 버튼 입력에
따라 좌우로
이동
 화살 컨트롤러
‐ 화면 위에서
아래로 떨어짐
 화살 제너레이터
‐ 화살을 1초에
한 개씩 생성
 UI를 갱신할 수
있는 감독
‐ 플레이어가
화살에 맞으면
HP가 줄어듦
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
13
01 플레이어 컨트롤러
 플레이어가 좌우 화살표 버튼을 눌렀을 때, 화살표 버튼이 눌린
것을 감지하고 플레이어를 움직이는 스크립트를 작성함
02 화살 컨트롤러
 화살을 화면 위에서 아래로 떨어트리는 스크립트를 작성함
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
14
03 화살 제너레이터
 화살을 1초에 한 개 비율로 여기저기에 생성하는 스크립트를
작성함
04 UI를 갱신할 수 있는 감독
 플레이어가 화살에 맞으면 화면 오른쪽 위에 표시되는 HP 
게이지를 줄여야 함
‐ 그러려면 플레이어와 화살의 충돌을 감지하고 UI를 갱신하는
스크립트를 작성해야 함
게임프로그래밍개발/7주차
1) 게임 설계하기
2. 프리팹과 충돌 판정(1)
게임 리소스 생각해보기
게임을 제작하는 흐름
15
프르젝트 작성 플레이어 이동 화살 이동
감독 작성 공장 작성 충돌 판정
<출처4>
게임프로그래밍개발/7주차
2) 씬에 오브젝트 배치하기
2. 프리팹과 충돌 판정(1)
플레이어 배치하기
배경 이미지 넣기
16
1
Scene 탭 클릭
2
player를 Scene 뷰로 드래그&드롭
<출처5>
게임프로그래밍개발/7주차
2) 씬에 오브젝트 배치하기
2. 프리팹과 충돌 판정(1)
배경 이미지 넣기
다음과 같이 유니티의 2D 게임에서 각 게임 오브젝트는 레이어 번호를
갖고 있고, 이 번호에 따라 화면에 놓일 앞뒤 위치가 결정됨
17
레이어 번호가 클수록
화면 앞쪽(겉)에 표시됨
레이어 번호가 작을수록
화면 뒤쪽(속)에 표시됨
[레이어 번호와 화면 관계]
게임하는 사람은 이쪽에서 보게 됨
배경 레이어
플레이어 레이어
UI 레이어
레이어 번호
정면
0
1
2
<출처6>
게임프로그래밍개발/7주차
2) 씬에 오브젝트 배치하기
2. 프리팹과 충돌 판정(1)
키를 조작해 플레이어 움직이기
플레이어를 움직이려면 플레이어를 움직이는 방법을 기술한
대본(컨트롤러 스크립트)을 작성해야 함
최종적으로는 화면에 있는 버튼을 누르면 플레이어가 움직이도록 만듦
UI 버튼이나 플레이어나 화살 이동 스크립트 등 다양한 요소가
더해지면 헷갈릴 수 있음
화살표 키 입력에 맞춰 플레이어가 움직이도록 만들것임
18
컨트롤러 스크립트
<출처7>
게임프로그래밍개발/7주차
2) 씬에 오브젝트 배치하기
2. 프리팹과 충돌 판정(1)
플레이어 스크립트 작성하기
움직이는 오브젝트를 만드는 방법
19
True
False
GetKeyDown GetKey GetKeyUp
Scene 뷰에 오브젝트를 배치함
오브젝트를 움직이는 방법을 쓴 스크립트를 작성함
작성한 스크립트를 오브젝트에 적용함
<출처8>
게임프로그래밍개발/7주차
2) 씬에 오브젝트 배치하기
2. 프리팹과 충돌 판정(1)
플레이어 스크립트 적용하기
20
앞에서 작성한 PlayerController 스크립트를 플레이어 오브젝트에
적용함
Project 창의 PlayerController 스크립트를 Hierarchy 창의
player 오브젝트로 드래그&드롭함
Inspector창을 보면 player 오브젝트에 PlayerController
스크립트가 적용된 것을 알 수 있음
게임프로그래밍개발/7주차
2) 씬에 오브젝트 배치하기
2. 프리팹과 충돌 판정(1)
21
스크립트대로 움직이는 플레이어
좌우 화살표 키를 눌러 플레이어가
좌우로 이동하는지 확인함
<출처9>
게임프로그래밍개발/7주차
출처 및 참고문헌 S o u r c e & R e f e r e n c e
22
출처1~4 : 기타무라 마나미(2022). 2021 버전 완벽 대응 유니티 교과서 개정5판. 길벗.
출처5 : 교수님 직접 제공
출처6~9 : 기타무라 마나미(2022). 2021 버전 완벽 대응 유니티 교과서 개정5판. 길벗. 
게임프로그래밍개발/7주차
정리하기 S u m m a r y
23
C# 클래스 주요기능 학습
• 클래스는 변수(필드)와 함수(메서드)를 하나의 단위로 결합함
• 생성자 : 객체를 생성하면서 무엇인가를 하고자 할 때 호출함
• 소멸자 : 클래스의 인스턴스를 사용한 후 최종 정리할 때 호출함
• 클래스 상속하기
객체 지향 프로그래밍의 장점 중 하나는 이미 만든 클래스를 재사용함
유니티에서 ‘제품’을 생산하는 구조를 만들기 위한 ‘설계도’를 프리팹이라 함
충돌 판정은 게임에서 오브젝트끼리 충돌한 것을 감지하는 구조임
게임프로그래밍개발/7주차